{
	"info": {
		"_postman_id": "b2c2067a-974b-4d30-ac28-56c923cb212c",
		"name": "MVP (Upcoming Release 0.6)",
		"description": "A collection of API calls against various services of the Knowledge Agents Pilot.\n\nAlso contains a special integration test subfolder.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "2757771"
	},
	"item": [
		{
			"name": "Dataspace",
			"item": [
				{
					"name": "OEM (Data Providing Agent)",
					"item": [
						{
							"name": "Provisioning Agent (Intern)",
							"item": [
								{
									"name": "Query the Provisioning Agent",
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"accept": true
										}
									},
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/sparql-query",
												"type": "text"
											},
											{
												"key": "Accept",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "PREFIX cx: <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#>\nPREFIX cx-diag: <https://github.com/catenax-ng/product-knowledge/ontology/diagnosis.ttl#>\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nSELECT ?reason ?code ?description ?version ?partend ?partcat ?partclass WHERE {\n  # Select Business Partner\n  ?Oem cx:BPNL \"BPNL00000003COJN\".\n\n  # Search for Trouble Codes of the Business Partner\n  # related to a cause in the \"Kabelbaum\"\n  ?Dtc rdf:type cx-diag:DTC.\n  ?Dtc cx:provisionedBy ?Oem.\n  ?Dtc cx-diag:PossibleCauses ?reason.\n  FILTER contains(?reason,\"Kabelbaum\").\n  ?Dtc cx-diag:Code ?code.\n  ?Dtc cx-diag:Description ?description.\n  ?Dtc cx-diag:Version ?version.\n\n  # Navigate to the affected parts\n  # and show only parts with a classification \"Powertrain\"\n  ?Dtc cx-diag:affects ?Part.\n  ?Part cx-diag:Category ?partcat.\n  ?Part cx-diag:EnDenomination ?partend.\n  ?Part cx-diag:Classification ?partclass.\n  FILTER contains(?partclass,'Powertrain').\n\n} LIMIT 40\n"
										},
										"url": {
											"raw": "{{provisioningAgent}}/sparql",
											"host": [
												"{{provisioningAgent}}"
											],
											"path": [
												"sparql"
											]
										}
									},
									"response": []
								}
							],
							"description": "A Collection of API Calls Against the Data Provisioning Agents Directly Which Sits upon some Data Source.",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							]
						},
						{
							"name": "EDC (Intern)",
							"item": [
								{
									"name": "Check Probe",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Check was successful\", function () {",
													"    pm.response.to.have.status(200);",
													"    pm.expect(pm.response.json()).to.have.property(\"isSystemHealthy\",true);",
													"    pm.expect(pm.response.json()).to.have.property(\"componentResults\");",
													"    pm.expect(pm.response.json().componentResults).to.have.length.greaterThan(0);",
													"    pm.response.json().componentResults.map( function(component) {",
													"        pm.expect(component).to.have.property(\"isHealthy\",true);",
													"    });",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{oemEdcApi}}/api/check/:stage",
											"host": [
												"{{oemEdcApi}}"
											],
											"path": [
												"api",
												"check",
												":stage"
											],
											"variable": [
												{
													"key": "stage",
													"value": "startup",
													"description": "You may choose startup, readiness or liveness"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Create Data Graph Asset",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Creation/Existance was successful\", function () {",
													"    pm.expect(pm.response.code).oneOf([204,409]);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"asset\": {\n    \"properties\": {\n      \"asset:prop:id\": \"urn:cx:Graph:oem:Diagnosis2022\",\n      \"asset:prop:name\": \"Diagnostic Trouble Code Catalogue Version 2022\",\n      \"asset:prop:description\": \"A sample graph asset/offering referring to a specific diagnosis resource.\",\n      \"asset:prop:version\": \"0.5.5-SNAPSHOT\",\n      \"asset:prop:contenttype\": \"application/json, application/xml\",\n      \"rdf:type\":\"https://github.com/catenax-ng/product-knowledge/ontology/common_ontology.ttl#GraphAsset\",\n      \"rdfs:isDefinedBy\": \"https://github.com/catenax-ng/product-knowledge/ontology/diagnosis_ontology.ttl\",\n      \"cx:protocol\": \"urn:cx:Protocol:w3c:Http#SPARQL\",\n      \"cx:shape\": \"@prefix : <urn:cx:Graph:oem:Diagnosis2022> .\\n@prefix cx: <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#> .\\n@prefix cx-diag: <https://github.com/catenax-ng/product-knowledge/ontology/diagnosis.ttl#> .\\n@prefix owl: <http://www.w3.org/2002/07/owl#> .\\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\\n@prefix sh: <http://www.w3.org/ns/shacl#> .\\n\\nOemDTC rdf:type sh:NodeShape ;\\n  sh:targetClass cx-diag:DTC ;\\n  sh:property [\\n        sh:path cx:provisionedBy ;\\n        sh:hasValue <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#BusinessPartner/BPNL00000003COJN> ;\\n    ] ;\\n  sh:property [\\n        sh:path cx-diag:Version ;\\n        sh:hasValue 0^^xsd:long ;\\n    ] ;\\n  sh:property [\\n        sh:path cx-diag:Affects ;\\n        sh:class OemDiagnosedParts ;\\n    ] ;\\n\\nOemDiagnosedParts rdf:type sh:NodeShape ;\\n  sh:targetClass cx-diag:DiagnosedPart ;\\n  sh:property [\\n        sh:path cx:provisionedBy ;\\n        sh:hasValue <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#BusinessPartner/BPNL00000003COJN> ;\\n    ] ;\\n\",\n      \"cx:isFederated\": true\n    }\n  },\n  \"dataAddress\": {\n    \"properties\": {\n      \"asset:prop:id\": \"urn:cx:Graph:oem:Diagnosis2022\",\n      \"baseUrl\": \"http://oem-provider-agent:8080/sparql\",\n      \"type\": \"urn:cx:Protocol:w3c:Http#SPARQL\",\n      \"proxyPath\": \"false\",\n      \"proxyMethod\": \"true\",\n      \"proxyQueryParams\": \"true\",\n      \"proxyBody\": \"true\",\n      \"authKey\": \"{{oemBackendAuthKey}}\",\n      \"authCode\": \"{{oemBackendAuthCode}}\"\n    }\n  }\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{oemEdcControl}}/data/assets",
											"host": [
												"{{oemEdcControl}}"
											],
											"path": [
												"data",
												"assets"
											]
										},
										"description": "Calls the datamanagement API in order to create a graph asset."
									},
									"response": []
								},
								{
									"name": "Create Graph Policy",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Creation/Existance was successful\", function () {",
													"    pm.expect(pm.response.code).oneOf([204,409]);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"id\": \"oemPolicy\",\n  \"policy\": {\n    \"target\": \"urn:cx:Graph:oem:.*\",\n    \"permissions\": [\n        {\n            \"target\": \"urn:cx:Graph:oem:Diagnosis.*\",\n            \"action\": {\n                \"type\": \"USE\"\n            },\n            \"edctype\": \"dataspaceconnector:permission\"\n        }\n    ],\n    \"@type\": {\n        \"@policytype\": \"set\"\n    }\n  }\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{oemEdcControl}}/data/policydefinitions",
											"host": [
												"{{oemEdcControl}}"
											],
											"path": [
												"data",
												"policydefinitions"
											]
										},
										"description": "Calls the datamanagement API in order to create a graph policy."
									},
									"response": []
								},
								{
									"name": "Create Graph Contract Definition",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Creation/Existance was successful\", function () {",
													"    pm.expect(pm.response.code).oneOf([204,409]);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"id\":\"oemOffer\",\n  \"accessPolicyId\": \"oemPolicy\",\n  \"contractPolicyId\": \"oemPolicy\",\n  \"criteria\": [ {\n      \"operandLeft\": \"asset:prop:id\",\n      \"operator\":\"~\",\n      \"operandRight\":\"urn:cx:Graph:oem:.*\"\n  }]\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{oemEdcControl}}/data/contractdefinitions",
											"host": [
												"{{oemEdcControl}}"
											],
											"path": [
												"data",
												"contractdefinitions"
											]
										},
										"description": "Calls the datamanagement API in order to create a contract."
									},
									"response": []
								},
								{
									"name": "Delete Graph Contract Definition",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Creation/Existance was successful\", function () {",
													"    pm.expect(pm.response.code).oneOf([204,409]);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{oemEdcControl}}/data/contractdefinitions/:id",
											"host": [
												"{{oemEdcControl}}"
											],
											"path": [
												"data",
												"contractdefinitions",
												":id"
											],
											"variable": [
												{
													"key": "id",
													"value": "oemOffer"
												}
											]
										},
										"description": "Calls the datamanagement API in order to create a contract."
									},
									"response": []
								},
								{
									"name": "List Assets",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Asset listing was successful\", function () {",
													"    pm.expect(pm.response.code).oneOf([200]);",
													"    pm.expect(pm.response.json()).to.have.length.gt(0);",
													"    pm.response.json().map(function(asset) {",
													"        pm.expect(asset).to.have.property(\"properties\");",
													"        pm.expect(asset.properties).to.have.property(\"asset:prop:id\");",
													"        pm.expect(asset.properties).to.have.property(\"asset:prop:name\");",
													"        pm.expect(asset.properties).to.have.property(\"asset:prop:contenttype\");",
													"        var contenttypes=asset.properties[\"asset:prop:contenttype\"].split(\",\").map(function(type) { return type.trim();});",
													"        contenttypes.map(function(contenttype) {",
													"            var contenttypespec=contenttype.split(\";\");",
													"            pm.expect(contenttypespec[0]).oneOf([\"application/json\",\"application/xml\",\"application/cx-skill\"]);",
													"        });",
													"    });",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{oemEdcControl}}/data/assets",
											"host": [
												"{{oemEdcControl}}"
											],
											"path": [
												"data",
												"assets"
											]
										},
										"description": "Uses the datamanagement API to get an (internal) list of the assets."
									},
									"response": []
								},
								{
									"name": "List Policies",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Asset listing was successful\", function () {",
													"    pm.expect(pm.response.code).oneOf([200]);",
													"    pm.expect(pm.response.json()).to.have.length.gt(0);",
													"    pm.response.json().map(function(policy) {",
													"        pm.expect(policy).to.have.property(\"uid\");",
													"        pm.expect(policy).to.have.property(\"permissions\");",
													"        pm.expect(policy.permissions).to.have.length.gte(0);",
													"        policy.permissions.map(function(permission) {",
													"            pm.expect(permission).to.have.property(\"edctype\",\"dataspaceconnector:permission\");",
													"            pm.expect(permission).to.have.property(\"target\");",
													"        });",
													"    });",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{oemEdcControl}}/data/policydefinitions",
											"host": [
												"{{oemEdcControl}}"
											],
											"path": [
												"data",
												"policydefinitions"
											]
										},
										"description": "Uses the datamanagement API to get an (internal) list of the policies."
									},
									"response": []
								},
								{
									"name": "List Contract Definitions",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Asset listing was successful\", function () {",
													"    pm.expect(pm.response.code).oneOf([200]);",
													"    pm.expect(pm.response.json()).to.have.length.gt(0);",
													"    pm.response.json().map(function(policy) {",
													"        pm.expect(policy).to.have.property(\"uid\");",
													"        pm.expect(policy).to.have.property(\"permissions\");",
													"        pm.expect(policy.permissions).to.have.length.gte(0);",
													"        policy.permissions.map(function(permission) {",
													"            pm.expect(permission).to.have.property(\"edctype\",\"dataspaceconnector:permission\");",
													"            pm.expect(permission).to.have.property(\"target\");",
													"        });",
													"    });",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{oemEdcControl}}/data/contractdefinitions",
											"host": [
												"{{oemEdcControl}}"
											],
											"path": [
												"data",
												"contractdefinitions"
											]
										},
										"description": "Uses the datamanagement API to get an (internal) list of the policies."
									},
									"response": []
								},
								{
									"name": "List Contract Agreements",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Asset listing was successful\", function () {",
													"    pm.expect(pm.response.code).oneOf([200]);",
													"    pm.expect(pm.response.json()).to.have.length.gt(0);",
													"    pm.response.json().map(function(policy) {",
													"        pm.expect(policy).to.have.property(\"uid\");",
													"        pm.expect(policy).to.have.property(\"permissions\");",
													"        pm.expect(policy.permissions).to.have.length.gte(0);",
													"        policy.permissions.map(function(permission) {",
													"            pm.expect(permission).to.have.property(\"edctype\",\"dataspaceconnector:permission\");",
													"            pm.expect(permission).to.have.property(\"target\");",
													"        });",
													"    });",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{oemEdcControl}}/data/contractagreements",
											"host": [
												"{{oemEdcControl}}"
											],
											"path": [
												"data",
												"contractagreements"
											]
										},
										"description": "Uses the datamanagement API to get an (internal) list of the policies."
									},
									"response": []
								},
								{
									"name": "List Contract Negotiations",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Asset listing was successful\", function () {",
													"    pm.expect(pm.response.code).oneOf([200]);",
													"    pm.expect(pm.response.json()).to.have.length.gt(0);",
													"    pm.response.json().map(function(policy) {",
													"        pm.expect(policy).to.have.property(\"uid\");",
													"        pm.expect(policy).to.have.property(\"permissions\");",
													"        pm.expect(policy.permissions).to.have.length.gte(0);",
													"        policy.permissions.map(function(permission) {",
													"            pm.expect(permission).to.have.property(\"edctype\",\"dataspaceconnector:permission\");",
													"            pm.expect(permission).to.have.property(\"target\");",
													"        });",
													"    });",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{oemEdcControl}}/data/contractnegotiations",
											"host": [
												"{{oemEdcControl}}"
											],
											"path": [
												"data",
												"contractnegotiations"
											]
										},
										"description": "Uses the datamanagement API to get an (internal) list of the policies."
									},
									"response": []
								},
								{
									"name": "Delete Contract Negotiation",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Creation/Existance was successful\", function () {",
													"    pm.expect(pm.response.code).oneOf([204,409]);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{oemEdcControl}}/data/contractnegotiations/:id/:type",
											"host": [
												"{{oemEdcControl}}"
											],
											"path": [
												"data",
												"contractnegotiations",
												":id",
												":type"
											],
											"variable": [
												{
													"key": "id",
													"value": "69091dba-f7cd-4a84-92bd-68967d8f4042"
												},
												{
													"key": "type",
													"value": "cancel"
												}
											]
										},
										"description": "Calls the datamanagement API in order to create a contract."
									},
									"response": []
								},
								{
									"name": "Show Catalogue",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Catalogue listing was successful\", function () {",
													"    pm.expect(pm.response.code).oneOf([200]);",
													"    pm.expect(pm.response.json()).to.have.property(\"id\");",
													"    pm.expect(pm.response.json()).to.have.property(\"contractOffers\");",
													"    pm.expect(pm.response.json().contractOffers).to.have.length.gte(0);",
													"    pm.response.json().contractOffers.map(function(contractOffer) {",
													"        pm.expect(contractOffer).to.have.property(\"id\");",
													"        pm.expect(contractOffer).to.have.property(\"policy\");",
													"        pm.expect(contractOffer).to.have.property(\"asset\");",
													"        pm.expect(contractOffer.asset).to.have.property(\"properties\");",
													"        pm.expect(contractOffer.asset.properties).to.have.property(\"asset:prop:id\");",
													"        pm.expect(contractOffer.asset.properties).to.have.property(\"asset:prop:name\");",
													"        pm.expect(contractOffer.asset.properties).to.have.property(\"asset:prop:contenttype\");",
													"    });",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{oemEdcControl}}/data/catalog?providerUrl={{oemEdcIds}}/api/v1/ids/data",
											"host": [
												"{{oemEdcControl}}"
											],
											"path": [
												"data",
												"catalog"
											],
											"query": [
												{
													"key": "providerUrl",
													"value": "{{oemEdcIds}}/api/v1/ids/data"
												}
											]
										},
										"description": "Use the public IDS api to retrieve the business partner view on the catalogue."
									},
									"response": []
								},
								{
									"name": "Perform an OEM-Local SparQL",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{oemAgentPlane}}/api/agent?query=SELECT ?subject ?predicate ?object WHERE { ?subject ?predicate ?object.}",
											"host": [
												"{{oemAgentPlane}}"
											],
											"path": [
												"api",
												"agent"
											],
											"query": [
												{
													"key": "asset",
													"value": "urn:x-arq:DefaultGraph",
													"description": "the default graph should be compliant",
													"disabled": true
												},
												{
													"key": "query",
													"value": "SELECT ?subject ?predicate ?object WHERE { ?subject ?predicate ?object.}",
													"description": "A local query"
												}
											]
										},
										"description": "Uses the Agent Extension of the Dataplane to Perform Some Dynamic Query on a Local Graph (here: the federated data catalogue)."
									},
									"response": []
								}
							],
							"description": "A Collection of Calls against the EDC control and data planes sitting on top of a data provisioner.",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							]
						}
					],
					"description": "A Collection of API Calls Against the Data Provisioning Components of the Dataspace.",
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "{{oemPassword}}",
								"type": "string"
							},
							{
								"key": "username",
								"value": "{{oemUser}}",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "TierA (Function Remoting Agent)",
					"item": [
						{
							"name": "Remoting Agent (Intern)",
							"item": [
								{
									"name": "Test the Public Service",
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {}
									},
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "https://api.agify.io?name=Schorsch",
											"protocol": "https",
											"host": [
												"api",
												"agify",
												"io"
											],
											"query": [
												{
													"key": "name",
													"value": "Schorsch",
													"description": "Prognosis Input, here a primitve string"
												}
											]
										},
										"description": "An example of a public prognosis service."
									},
									"response": []
								},
								{
									"name": "Check the Backend Services",
									"protocolProfileBehavior": {
										"disableBodyPruning": true,
										"disabledSystemHeaders": {}
									},
									"request": {
										"method": "GET",
										"header": [],
										"body": {
											"mode": "formdata",
											"formdata": []
										},
										"url": {
											"raw": "{{tierABackend}}/docs",
											"host": [
												"{{tierABackend}}"
											],
											"path": [
												"docs"
											]
										},
										"description": "Invocation of the actual Lifetime Prognosis Service"
									},
									"response": []
								},
								{
									"name": "Test the RUL Service",
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {}
									},
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "formdata",
											"formdata": [
												{
													"key": "load_collective_file",
													"type": "file",
													"src": "/Users/A29078924/Downloads/Fzg1_LCollective.json"
												}
											]
										},
										"url": {
											"raw": "{{tierABackend}}/api/rul",
											"host": [
												"{{tierABackend}}"
											],
											"path": [
												"api",
												"rul"
											]
										},
										"description": "Invocation of the actual Lifetime Prognosis Service"
									},
									"response": []
								},
								{
									"name": "Test the HI Service",
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {}
									},
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "formdata",
											"formdata": [
												{
													"key": "hi_input",
													"type": "file",
													"src": "/Users/A29078924/Projects/catenax/product-knowledge/dataspace/mock/rul/tests/data/sample-hi-input.json"
												}
											]
										},
										"url": {
											"raw": "{{tierABackend}}/api/hi",
											"host": [
												"{{tierABackend}}"
											],
											"path": [
												"api",
												"hi"
											]
										},
										"description": "Invocation of the actual Lifetime Prognosis Service"
									},
									"response": []
								},
								{
									"name": "Check the Remoting Agent",
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"accept": true
										}
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/sparql-query",
												"type": "text"
											},
											{
												"key": "Accept",
												"value": "application/json",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{remotingAgent}}/protocol",
											"host": [
												"{{remotingAgent}}"
											],
											"path": [
												"protocol"
											]
										},
										"description": "This endpoint should return the number of supported protocols and can be used as a healthcheck."
									},
									"response": []
								},
								{
									"name": "Query Public/Simple Binding",
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"accept": true
										}
									},
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/sparql-query",
												"type": "text"
											},
											{
												"key": "Accept",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "PREFIX cx: <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#> \nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#> \nPREFIX prognosis: <https://github.com/catenax-ng/product-knowledge/ontology/prognosis.ttl#>\n\nSELECT ?invocation ?prediction ?support\nWHERE { \n  ?invocation a prognosis:Prognosis;         \n              prognosis:name \"Schorsch\"^^xsd:string; \n              prognosis:prediction ?prediction; \n              prognosis:support ?support; \n}"
										},
										"url": {
											"raw": "{{remotingAgent}}/repositories/prognosis",
											"host": [
												"{{remotingAgent}}"
											],
											"path": [
												"repositories",
												"prognosis"
											]
										},
										"description": "A sample SparQL query against a simple invocation with only primitive inputs and outputs."
									},
									"response": []
								},
								{
									"name": "Query Backend/Complex Binding",
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"accept": true
										}
									},
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/sparql-query",
												"type": "text"
											},
											{
												"key": "Accept",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "PREFIX cx: <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#> \nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#> \nPREFIX json: <https://json-schema.org/draft/2020-12/schema#> \nPREFIX cx-lifetime: <https://github.com/catenax-ng/product-knowledge/ontology/lifetime.ttl#>\n\nSELECT ?invocation ?distance ?time\nWHERE { \n  ?invocation a cx-lifetime:LifetimePrognosis;\n              cx-lifetime:loadCollectiveFile \"{  \\\"Type\\\": \\\"ZF_load_collective\\\", \\\"Version\\\": \\\"1.7\\\"  }\"^^json:Object; \n              cx-lifetime:loadCollectiveHeader \"{  \\\"CountingMethod\\\": \\\"ZF_TimeAtLevel\\\",    \\\"CountingUnit\\\": \\\"s\\\",    \\\"Channels\\\": [      {        \\\"Name\\\": \\\"Temp_Oil\\\",        \\\"Type\\\": \\\"Load\\\",        \\\"Unit\\\": \\\"degC\\\",        \\\"LowerLimit\\\": -40,        \\\"UpperLimit\\\": 220,        \\\"NumberOfBins\\\": 52      }  ]  }\"^^json:Object; \n              cx-lifetime:loadCollectiveBody \"{     \\\"Temp_Oil-class\\\": [1, 3, 4, 5, 7, 8, 12, 13, 17, 18, 20, 22, 23, 25, 28, 29, 31, 32, 33, 34, 36, 37, 38, 41, 42, 44, 45, 47, 48, 49, 50, 51],  \\\"Counts\\\": [7.234E+01, 2.345E+02, 6.654E+02, 5.983E+01, 4.321E+02, 3.876E+02, 5.567E+01, 3.4456E+02, 4.556645E+02, 5.678E+01, 4.321E+02, 6.098E+02, 7.432E+02, 8.873E+02, 4.738E+01, 6.927E+01, 1.234E+02, 2.345E+02, 3.654E+02, 2.983E+01, 4.321E+01, 3.876E+02, 5.567E+02, 3.4456E+02, 4.556645E+02, 5.678E+01, 4.321E+01, 6.098E+01, 3.432E+02, 1.873E+02, 4.738E+02, 6.927E+02] }\"^^json:Object; \n              cx-lifetime:loadCollectiveComponent \"GearOil\"^^xsd:string; \n              cx-lifetime:loadCollectiveMileage \"{ \\\"Value\\\": 82563, \\\"Unit\\\": \\\"km\\\" }\"^^json:Object; \n              cx-lifetime:loadCollectiveRegistrationDate \"{ \\\"Value\\\": 20171206,  \\\"Unit\\\": \\\"yyyymmdd\\\" }\"^^json:Object; \n              cx-lifetime:remainingDistance ?distance; \n              cx-lifetime:remainingTime ?time.\n}"
										},
										"url": {
											"raw": "{{remotingAgent}}/repositories/prognosis",
											"host": [
												"{{remotingAgent}}"
											],
											"path": [
												"repositories",
												"prognosis"
											]
										},
										"description": "A sample SparQL query with a more complex binding where the input is a json document."
									},
									"response": []
								},
								{
									"name": "Query Batch Binding",
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"accept": true
										}
									},
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/sparql-query",
												"type": "text"
											},
											{
												"key": "Accept",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "PREFIX cx: <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#> \nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#> \nPREFIX json: <https://json-schema.org/draft/2020-12/schema#> \nPREFIX cx-health: <https://github.com/catenax-ng/product-knowledge/ontology/health.ttl#>\n\nSELECT ?invocation ?healthValues\nWHERE { \n  ?invocation a cx-health:HealthIndication;\n              cx-health:requestComponentId <urn:cx:AnonymousSerializedPart#GB4711>;\n              cx-health:classifiedLoadCollectiveFile \"{  \\\"Type\\\": \\\"ZF_load_collective\\\", \\\"Version\\\": \\\"1.7\\\"  }\"^^json:Object; \n              cx-health:classifiedLoadCollectiveHeader \"{  \\\"CountingMethod\\\": \\\"ZF_TimeAtLevel\\\",    \\\"CountingUnit\\\": \\\"s\\\",    \\\"Channels\\\": [      {        \\\"Name\\\": \\\"Temp_Oil\\\",        \\\"Type\\\": \\\"Load\\\",        \\\"Unit\\\": \\\"degC\\\",        \\\"LowerLimit\\\": -40,        \\\"UpperLimit\\\": 220,        \\\"NumberOfBins\\\": 52      }  ]  }\"^^json:Object; \n              cx-health:classifiedLoadCollectiveBody \"{     \\\"Temp_Oil-class\\\": [1, 3, 4, 5, 7, 8, 12, 13, 17, 18, 20, 22, 23, 25, 28, 29, 31, 32, 33, 34, 36, 37, 38, 41, 42, 44, 45, 47, 48, 49, 50, 51],  \\\"Counts\\\": [7.234E+01, 2.345E+02, 6.654E+02, 5.983E+01, 4.321E+02, 3.876E+02, 5.567E+01, 3.4456E+02, 4.556645E+02, 5.678E+01, 4.321E+02, 6.098E+02, 7.432E+02, 8.873E+02, 4.738E+01, 6.927E+01, 1.234E+02, 2.345E+02, 3.654E+02, 2.983E+01, 4.321E+01, 3.876E+02, 5.567E+02, 3.4456E+02, 4.556645E+02, 5.678E+01, 4.321E+01, 6.098E+01, 3.432E+02, 1.873E+02, 4.738E+02, 6.927E+02] }\"^^json:Object; \n              cx-health:adaptionValueVersion \"VER_AV_001\"^^xsd:string; \n              cx-health:adaptionValueTimestamp \"2022-10-12T08:17:18.734Z\"^^xsd:dateTime;\n              cx-health:adaptionValueMileage \"82563.02\"^^xsd:double; \n              cx-health:adaptionValueOperatingTime \"45667765\"^^xsd:long;\n              cx-health:adaptionValueList \"[ 0.543534, 0.543535, 0.543536, 0.543537 ]\"^^json:Object;\n              cx-health:indicatorVersion ?iversion;\n              cx-health:responseComponentId ?component;\n              cx-health:healthIndicatorValues ?healthValues.\n}"
										},
										"url": {
											"raw": "{{remotingAgent}}/repositories/health",
											"host": [
												"{{remotingAgent}}"
											],
											"path": [
												"repositories",
												"health"
											]
										},
										"description": "A sample SparQL query with a more complex binding where the input is a json document."
									},
									"response": []
								}
							],
							"description": "A Collection of API Calls Against the Function Remoting Agents Directly Which Sits upon some REST Service.",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							]
						},
						{
							"name": "EDC (Intern)",
							"item": [
								{
									"name": "Check Probe",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Check was successful\", function () {",
													"    pm.response.to.have.status(200);",
													"    pm.expect(pm.response.json()).to.have.property(\"isSystemHealthy\",true);",
													"    pm.expect(pm.response.json()).to.have.property(\"componentResults\");",
													"    pm.expect(pm.response.json().componentResults).to.have.length.greaterThan(0);",
													"    pm.response.json().componentResults.map( function(component) {",
													"        pm.expect(component).to.have.property(\"isHealthy\",true);",
													"    });",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{tieraEdcApi}}/api/check/:stage",
											"host": [
												"{{tieraEdcApi}}"
											],
											"path": [
												"api",
												"check",
												":stage"
											],
											"variable": [
												{
													"key": "stage",
													"value": "startup",
													"description": "You may choose startup, readiness or liveness"
												}
											]
										},
										"description": "Health Check Interface of EDC planes"
									},
									"response": []
								},
								{
									"name": "Create Function Graph Asset",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Creation/Existance was successful\", function () {",
													"    pm.expect(pm.response.code).oneOf([204,409]);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"asset\": {\n    \"properties\": {\n      \"asset:prop:id\": \"urn:cx:Graph:tierA:LifetimeGearbox\",\n      \"asset:prop:name\": \"Lifetime Prognosis Service for Gearboxes\",\n      \"asset:prop:description\": \"A sample graph asset/offering referring to a specific prognosis resource.\",\n      \"asset:prop:version\": \"0.5.5-SNAPSHOT\",\n      \"asset:prop:contenttype\": \"application/json, application/xml\",\n      \"rdf:type\":\"https://github.com/catenax-ng/product-knowledge/ontology/common_ontology.ttl#GraphAsset\",\n      \"rdfs:isDefinedBy\": \"https://github.com/catenax-ng/product-knowledge/ontology/lifetime.ttl#\",\n      \"cx:protocol\": \"urn:cx:Protocol:w3c:Http#SPARQL\",\n      \"cx:shape\": \"@prefix : <urn:cx:Graph:tierA:LifetimeGearbox> .\\n@prefix cx: <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#> .\\n@prefix cx-lifetime: <https://github.com/catenax-ng/product-knowledge/ontology/lifetime.ttl#> .\\n@prefix owl: <http://www.w3.org/2002/07/owl#> .\\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\\n@prefix sh: <http://www.w3.org/ns/shacl#> .\\n :Tier1LifetimePrognosis rdf:type sh:NodeShape ;\\n  sh:targetClass cx-lifetime:LifetimePrognosis ;\\n  sh:property [\\n        sh:path cx:provisionedBy ;\\n        sh:hasValue <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#BusinessPartner/BPNL00000003CPIY> ].\\n\",\n      \"cx:isFederated\": true\n    }\n  },\n  \"dataAddress\": {\n    \"properties\": {\n      \"asset:prop:id\": \"urn:cx:Graph:tierA:LifetimeGearbox\",\n      \"baseUrl\": \"http://tiera-remoting-agent:8081/rdf4j-server/repositories/prognosis\",\n      \"type\": \"urn:cx:Protocol:w3c:Http#SPARQL\",\n      \"proxyPath\": \"false\",\n      \"proxyMethod\": \"true\",\n      \"proxyQueryParams\": \"true\",\n      \"proxyBody\": \"true\",\n      \"authKey\": \"{{supplierBackendAuthKey}}\",\n      \"authCode\": \"{{supplierBackendAuthCode}}\"\n    }\n  }\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{tieraEdcControl}}/data/assets",
											"host": [
												"{{tieraEdcControl}}"
											],
											"path": [
												"data",
												"assets"
											]
										},
										"description": "Calls the datamanagement API in order to create a graph asset."
									},
									"response": []
								},
								{
									"name": "Create Second Function Graph Asset",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Creation/Existance was successful\", function () {",
													"    pm.expect(pm.response.code).oneOf([204,409]);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"asset\": {\n    \"properties\": {\n      \"asset:prop:id\": \"urn:cx:Graph:tierA:HealthIndicatorGearbox\",\n      \"asset:prop:name\": \"Health Indications Service for Gearboxes\",\n      \"asset:prop:description\": \"Another sample graph asset/offering referring to a specific prognosis resource.\",\n      \"asset:prop:version\": \"0.6.2-SNAPSHOT\",\n      \"asset:prop:contenttype\": \"application/json, application/xml\",\n      \"rdf:type\":\"https://github.com/catenax-ng/product-knowledge/ontology/common_ontology.ttl#GraphAsset\",\n      \"rdfs:isDefinedBy\": \"https://github.com/catenax-ng/product-knowledge/ontology/health.ttl#\",\n      \"cx:protocol\": \"urn:cx:Protocol:w3c:Http#SPARQL\",\n      \"cx:shape\": \"@prefix : <urn:cx:Graph:tierA:HealthIndicatorGearbox> .\\n@prefix cx: <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#> .\\n@prefix cx-lifetime: <https://github.com/catenax-ng/product-knowledge/ontology/lifetime.ttl#> .\\n@prefix owl: <http://www.w3.org/2002/07/owl#> .\\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\\n@prefix sh: <http://www.w3.org/ns/shacl#> .\\n :Tier1LifetimePrognosis rdf:type sh:NodeShape ;\\n  sh:targetClass cx-lifetime:LifetimePrognosis ;\\n  sh:property [\\n        sh:path cx:provisionedBy ;\\n        sh:hasValue <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#BusinessPartner/BPNL00000003CPIY> ].\\n\",\n      \"cx:isFederated\": true\n    }\n  },\n  \"dataAddress\": {\n    \"properties\": {\n      \"asset:prop:id\": \"urn:cx:Graph:tierA:HealthIndicatorGearbox\",\n      \"baseUrl\": \"http://tiera-remoting-agent:8081/rdf4j-server/repositories/health\",\n      \"type\": \"urn:cx:Protocol:w3c:Http#SPARQL\",\n      \"proxyPath\": \"false\",\n      \"proxyMethod\": \"true\",\n      \"proxyQueryParams\": \"true\",\n      \"proxyBody\": \"true\",\n      \"authKey\": \"{{supplierBackendAuthKey}}\",\n      \"authCode\": \"{{supplierBackendAuthCode}}\"\n    }\n  }\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{tieraEdcControl}}/data/assets",
											"host": [
												"{{tieraEdcControl}}"
											],
											"path": [
												"data",
												"assets"
											]
										},
										"description": "Calls the datamanagement API in order to create a graph asset."
									},
									"response": []
								},
								{
									"name": "Create Graph Policy",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Creation/Existance was successful\", function () {",
													"    pm.expect(pm.response.code).oneOf([204,409]);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"id\": \"tierAPolicy\",\n  \"target\": \"urn:cx:Graph:tierA:.*\",\n  \"policy\": {\n      \"permissions\": [\n        {\n        \"target\": \"urn:cx:Graph:tierA:.*\",\n        \"action\": {\n        \"type\": \"USE\"\n        },\n        \"edctype\": \"dataspaceconnector:permission\"\n        }\n    ],\n    \"@type\": {\n        \"@policytype\": \"set\"\n    }\n  }\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{tieraEdcControl}}/data/policydefinitions",
											"host": [
												"{{tieraEdcControl}}"
											],
											"path": [
												"data",
												"policydefinitions"
											]
										},
										"description": "Calls the datamanagement API in order to create a graph policy."
									},
									"response": []
								},
								{
									"name": "Create Graph Contract Definition",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Creation/Existance was successful\", function () {",
													"    pm.expect(pm.response.code).oneOf([204,409]);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"id\":\"tierAOffer\",\n  \"accessPolicyId\": \"tierAPolicy\",\n  \"contractPolicyId\": \"tierAPolicy\",\n  \"criteria\": [ {\n      \"operandLeft\": \"asset:prop:id\",\n      \"operator\":\"~\",\n      \"operandRight\":\"urn:cx:Graph:tierA:.*\"\n  }]\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{tieraEdcControl}}/data/contractdefinitions",
											"host": [
												"{{tieraEdcControl}}"
											],
											"path": [
												"data",
												"contractdefinitions"
											]
										},
										"description": "Calls the datamanagement API in order to create a contract."
									},
									"response": []
								},
								{
									"name": "List Assets",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Asset listing was successful\", function () {",
													"    pm.expect(pm.response.code).oneOf([200]);",
													"    pm.expect(pm.response.json()).to.have.length.gt(0);",
													"    pm.response.json().map(function(asset) {",
													"        pm.expect(asset).to.have.property(\"properties\");",
													"        pm.expect(asset.properties).to.have.property(\"asset:prop:id\");",
													"        pm.expect(asset.properties).to.have.property(\"asset:prop:name\");",
													"        pm.expect(asset.properties).to.have.property(\"asset:prop:contenttype\");",
													"        var contenttypes=asset.properties[\"asset:prop:contenttype\"].split(\",\").map(function(type) { return type.trim();});",
													"        contenttypes.map(function(contenttype) {",
													"            var contenttypespec=contenttype.split(\";\");",
													"            pm.expect(contenttypespec[0]).oneOf([\"application/json\",\"application/xml\",\"application/cx-skill\"]);",
													"        });",
													"    });",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{tieraEdcControl}}/data/assets",
											"host": [
												"{{tieraEdcControl}}"
											],
											"path": [
												"data",
												"assets"
											]
										},
										"description": "Uses the datamanagement API to get an (internal) list of the assets."
									},
									"response": []
								},
								{
									"name": "List Policies",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Asset listing was successful\", function () {",
													"    pm.expect(pm.response.code).oneOf([200]);",
													"    pm.expect(pm.response.json()).to.have.length.gt(0);",
													"    pm.response.json().map(function(policy) {",
													"        pm.expect(policy).to.have.property(\"uid\");",
													"        pm.expect(policy).to.have.property(\"permissions\");",
													"        pm.expect(policy.permissions).to.have.length.gte(0);",
													"        policy.permissions.map(function(permission) {",
													"            pm.expect(permission).to.have.property(\"edctype\",\"dataspaceconnector:permission\");",
													"            pm.expect(permission).to.have.property(\"target\");",
													"        });",
													"    });",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{tieraEdcControl}}/data/policydefinitions",
											"host": [
												"{{tieraEdcControl}}"
											],
											"path": [
												"data",
												"policydefinitions"
											]
										},
										"description": "Uses the datamanagement API to get an (internal) list of the policies."
									},
									"response": []
								},
								{
									"name": "Show Catalogue",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Catalogue listing was successful\", function () {",
													"    pm.expect(pm.response.code).oneOf([200]);",
													"    pm.expect(pm.response.json()).to.have.property(\"id\");",
													"    pm.expect(pm.response.json()).to.have.property(\"contractOffers\");",
													"    pm.expect(pm.response.json().contractOffers).to.have.length.gte(0);",
													"    pm.response.json().contractOffers.map(function(contractOffer) {",
													"        pm.expect(contractOffer).to.have.property(\"id\");",
													"        pm.expect(contractOffer).to.have.property(\"policy\");",
													"        pm.expect(contractOffer).to.have.property(\"asset\");",
													"        pm.expect(contractOffer.asset).to.have.property(\"properties\");",
													"        pm.expect(contractOffer.asset.properties).to.have.property(\"asset:prop:id\");",
													"        pm.expect(contractOffer.asset.properties).to.have.property(\"asset:prop:name\");",
													"        pm.expect(contractOffer.asset.properties).to.have.property(\"asset:prop:contenttype\");",
													"    });",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{tieraEdcControl}}/data/catalog?providerUrl={{tieraEdcIds}}/api/v1/ids/data",
											"host": [
												"{{tieraEdcControl}}"
											],
											"path": [
												"data",
												"catalog"
											],
											"query": [
												{
													"key": "providerUrl",
													"value": "{{tieraEdcIds}}/api/v1/ids/data"
												}
											]
										},
										"description": "Use the public IDS api to retrieve the business partner view on the catalogue."
									},
									"response": []
								}
							],
							"description": "A Collection of Calls Against the EDC control and dataplane sitting on top of the remoting backend."
						}
					],
					"description": "A Collection of API Calls Against the Function Remoting Components of the Dataspace.",
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "{{oemPassword}}",
								"type": "string"
							},
							{
								"key": "username",
								"value": "{{oemUser}}",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Consumer (Federating Agent)",
					"item": [
						{
							"name": "EDC (intern)",
							"item": [
								{
									"name": "Check Probe",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Check was successful\", function () {",
													"    pm.response.to.have.status(200);",
													"    pm.expect(pm.response.json()).to.have.property(\"isSystemHealthy\",true);",
													"    pm.expect(pm.response.json()).to.have.property(\"componentResults\");",
													"    pm.expect(pm.response.json().componentResults).to.have.length.greaterThan(0);",
													"    pm.response.json().componentResults.map( function(component) {",
													"        pm.expect(component).to.have.property(\"isHealthy\",true);",
													"    });",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{consumerEdcApi}}/api/check/:stage",
											"host": [
												"{{consumerEdcApi}}"
											],
											"path": [
												"api",
												"check",
												":stage"
											],
											"variable": [
												{
													"key": "stage",
													"value": "startup",
													"description": "You may choose startup, readiness or liveness"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Create Skill Asset",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Creation/Existance was successful\", function () {",
													"    pm.expect(pm.response.code).oneOf([204,409]);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"asset\": {\n    \"properties\": {\n      \"asset:prop:id\": \"urn:cx:Skill:consumer:LifetimeGearbox\",\n      \"asset:prop:name\": \"Remaining Useful Lifetime Skill for Vehicles\",\n      \"asset:prop:description\": \"A sample skill asset/offering implemented via SparQL.\",\n      \"asset:prop:version\": \"0.5.5-SNAPSHOT\",\n      \"asset:prop:contenttype\": \"application/json, application/xml\",\n      \"cx:protocol\": \"urn:cx:Protocol:w3c:Http#SPARQL\",\n      \"rdf:type\":\"https://github.com/catenax-ng/product-knowledge/ontology/common_ontology.ttl#SkillAsset\",\n      \"rdfs:isDefinedBy\": \"https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl\",\n      \"cx:isFederated\": true\n    }\n  },\n  \"dataAddress\": {\n    \"properties\": {\n      \"asset:prop:id\": \"urn:cx:Skill:consumer:LifetimeGearbox\",\n      \"type\": \"urn:cx:Protocol:w3c:Http#SKILL#SPARQL\",\n      \"query\": \"PREFIX cx: <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#>\\nPREFIX cx-diag: <https://github.com/catenax-ng/product-knowledge/ontology/diagnosis.ttl#>\\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\\nSELECT ?reason ?code ?description ?version ?partend ?partcat ?partclass WHERE {\\n  # Select Business Partner\\n  ?Oem cx:BPNL \\\"BPNL00000003COJN\\\".\\n\\n  # Search for Trouble Codes of the Business Partner\\n  # related to a cause in the \\\"Kabelbaum\\\"\\n  ?Dtc rdf:type cx-diag:DTC.\\n  ?Dtc cx:provisionedBy ?Oem.\\n  ?Dtc cx-diag:PossibleCauses ?reason.\\n  FILTER contains(?reason,\\\"Kabelbaum\\\").\\n  ?Dtc cx-diag:Code ?code.\\n  ?Dtc cx-diag:Description ?description.\\n  ?Dtc cx-diag:Version ?version.\\n\\n  # Navigate to the affected parts\\n  # and show only parts with a classification \\\"Powertrain\\\"\\n  ?Dtc cx-diag:affects ?Part.\\n  ?Part cx-diag:Category ?partcat.\\n  ?Part cx-diag:EnDenomination ?partend.\\n  ?Part cx-diag:Classification ?partclass.\\n  FILTER contains(?partclass,'Powertrain').\\n\\n}\\n\",\n      \"proxyPath\": \"false\",\n      \"proxyMethod\": \"false\",\n      \"proxyQueryParams\": \"true\",\n      \"proxyBody\": \"false\"\n    }\n  }\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{consumerEdcControl}}/data/assets",
											"host": [
												"{{consumerEdcControl}}"
											],
											"path": [
												"data",
												"assets"
											]
										},
										"description": "Calls the datamanagement API in order to create a skill asset."
									},
									"response": []
								},
								{
									"name": "Create Skill Policy",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Creation/Existance was successful\", function () {",
													"    pm.expect(pm.response.code).oneOf([204,409]);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"id\": \"consumerPolicy\",\n  \"policy\": {\n      \"target\": \"urn:cx:Skill:consumer.*\",\n      \"permissions\": [\n        {\n        \"target\": \"urn:cx:Skill:consumer:Lifetime.*\",\n        \"action\": {\n            \"type\": \"USE\"\n        },\n        \"edctype\": \"dataspaceconnector:permission\"\n        }\n    ],\n    \"@type\": {\n        \"@policytype\": \"set\"\n    }\n  }\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{consumerEdcControl}}/data/policydefinitions",
											"host": [
												"{{consumerEdcControl}}"
											],
											"path": [
												"data",
												"policydefinitions"
											]
										},
										"description": "Calls the datamanagement API in order to create a skill policy."
									},
									"response": []
								},
								{
									"name": "Create Skill Contract Definition",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Creation/Existance was successful\", function () {",
													"    pm.expect(pm.response.code).oneOf([204,409]);",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n  \"id\":\"consumerOffer\",\n  \"accessPolicyId\": \"consumerPolicy\",\n  \"contractPolicyId\": \"consumerPolicy\",\n  \"criteria\": [ {\n      \"operandLeft\": \"asset:prop:id\",\n      \"operator\":\"~\",\n      \"operandRight\":\"urn:cx:Skill:consumer:.*\"\n  }]\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{consumerEdcControl}}/data/contractdefinitions",
											"host": [
												"{{consumerEdcControl}}"
											],
											"path": [
												"data",
												"contractdefinitions"
											]
										},
										"description": "Calls the datamanagement API in order to create a skill contract."
									},
									"response": []
								},
								{
									"name": "List Assets",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Asset listing was successful\", function () {",
													"    pm.expect(pm.response.code).oneOf([200]);",
													"    pm.expect(pm.response.json()).to.have.length.gt(0);",
													"    pm.response.json().map(function(asset) {",
													"        pm.expect(asset).to.have.property(\"properties\");",
													"        pm.expect(asset.properties).to.have.property(\"asset:prop:id\");",
													"        pm.expect(asset.properties).to.have.property(\"asset:prop:name\");",
													"        pm.expect(asset.properties).to.have.property(\"asset:prop:contenttype\");",
													"        var contenttypes=asset.properties[\"asset:prop:contenttype\"].split(\",\").map(function(type) { return type.trim();});",
													"        contenttypes.map(function(contenttype) {",
													"            var contenttypespec=contenttype.split(\";\");",
													"            pm.expect(contenttypespec[0]).oneOf([\"application/json\",\"application/xml\",\"application/cx-skill\"]);",
													"        });",
													"    });",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{consumerEdcControl}}/data/assets",
											"host": [
												"{{consumerEdcControl}}"
											],
											"path": [
												"data",
												"assets"
											]
										},
										"description": "Uses the datamanagement API to get an (internal) list of the assets."
									},
									"response": []
								},
								{
									"name": "List Policies",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Asset listing was successful\", function () {",
													"    pm.expect(pm.response.code).oneOf([200]);",
													"    pm.expect(pm.response.json()).to.have.length.gt(0);",
													"    pm.response.json().map(function(policy) {",
													"        pm.expect(policy).to.have.property(\"uid\");",
													"        pm.expect(policy).to.have.property(\"permissions\");",
													"        pm.expect(policy.permissions).to.have.length.gte(0);",
													"        policy.permissions.map(function(permission) {",
													"            pm.expect(permission).to.have.property(\"edctype\",\"dataspaceconnector:permission\");",
													"            pm.expect(permission).to.have.property(\"target\");",
													"        });",
													"    });",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{consumerEdcControl}}/data/policydefinitions",
											"host": [
												"{{consumerEdcControl}}"
											],
											"path": [
												"data",
												"policydefinitions"
											]
										},
										"description": "Uses the datamanagement API to get an (internal) list of the policies."
									},
									"response": []
								},
								{
									"name": "Show Catalogue",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Catalogue listing was successful\", function () {",
													"    pm.expect(pm.response.code).oneOf([200]);",
													"    pm.expect(pm.response.json()).to.have.property(\"id\");",
													"    pm.expect(pm.response.json()).to.have.property(\"contractOffers\");",
													"    pm.expect(pm.response.json().contractOffers).to.have.length.gte(0);",
													"    pm.response.json().contractOffers.map(function(contractOffer) {",
													"        pm.expect(contractOffer).to.have.property(\"id\");",
													"        pm.expect(contractOffer).to.have.property(\"policy\");",
													"        pm.expect(contractOffer).to.have.property(\"asset\");",
													"        pm.expect(contractOffer.asset).to.have.property(\"properties\");",
													"        pm.expect(contractOffer.asset.properties).to.have.property(\"asset:prop:id\");",
													"        pm.expect(contractOffer.asset.properties).to.have.property(\"asset:prop:name\");",
													"        pm.expect(contractOffer.asset.properties).to.have.property(\"asset:prop:contenttype\");",
													"    });",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{oemEdcApiKey}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{consumerEdcControl}}/data/catalog?providerUrl={{consumerEdcIds}}/api/v1/ids/data",
											"host": [
												"{{consumerEdcControl}}"
											],
											"path": [
												"data",
												"catalog"
											],
											"query": [
												{
													"key": "providerUrl",
													"value": "{{oemEdcIds}}/api/v1/ids/data",
													"disabled": true
												},
												{
													"key": "providerUrl",
													"value": "{{tieraEdcIds}}/api/v1/ids/data",
													"disabled": true
												},
												{
													"key": "providerUrl",
													"value": "{{consumerEdcIds}}/api/v1/ids/data"
												}
											]
										},
										"description": "Use the public IDS api to retrieve the business partner view on the catalogue."
									},
									"response": []
								},
								{
									"name": "Perform a Consumer-Local SparQL",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{consumerAgentPlane}}/api/agent?query=SELECT ?subject ?predicate ?object WHERE { ?subject ?predicate ?object.}",
											"host": [
												"{{consumerAgentPlane}}"
											],
											"path": [
												"api",
												"agent"
											],
											"query": [
												{
													"key": "asset",
													"value": "urn:x-arq:DefaultGraph",
													"description": "the default graph should be compliant",
													"disabled": true
												},
												{
													"key": "query",
													"value": "SELECT ?subject ?predicate ?object WHERE { ?subject ?predicate ?object.}",
													"description": "A local query"
												}
											]
										},
										"description": "Uses the Agent Extension of the Dataplane to Perform Some Dynamic Query on a Local Graph (here: the federated data catalogue)."
									},
									"response": []
								},
								{
									"name": "Perform a Remote SparQL over the Dataspace",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{consumerAgentPlane}}/api/agent?query=SELECT ?subject ?predicate ?object WHERE { ?subject ?predicate ?object.} LIMIT 100&asset=https://knowledge.dev.demo.catena-x.net/oem-edc-control/BPNL00000003COJN%23urn:cx:Graph:oem:Diagnosis2022",
											"host": [
												"{{consumerAgentPlane}}"
											],
											"path": [
												"api",
												"agent"
											],
											"query": [
												{
													"key": "query",
													"value": "SELECT ?subject ?predicate ?object WHERE { ?subject ?predicate ?object.} LIMIT 100"
												},
												{
													"key": "asset",
													"value": "http://oem-control-plane:8282%23urn:cx:Graph:oem:Diagnosis2022",
													"disabled": true
												},
												{
													"key": "asset",
													"value": "https://knowledge.int.demo.catena-x.net/oem-edc-control/BPNL00000003COJN%23urn:cx:Graph:oem:Diagnosis2022",
													"disabled": true
												},
												{
													"key": "asset",
													"value": "https://knowledge.dev.demo.catena-x.net/oem-edc-control/BPNL00000003COJN%23urn:cx:Graph:oem:Diagnosis2022"
												}
											]
										},
										"description": "Uses the Agent Extension of the Dataplane to Perform Some Dynamic Query on a Local Graph (here: the federated data catalogue)."
									},
									"response": []
								},
								{
									"name": "Post Remote SparQL (Data)",
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/sparql-query",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "SELECT ?subject ?predicate ?object WHERE { ?subject ?predicate ?object.} LIMIT 100"
										},
										"url": {
											"raw": "{{consumerAgentPlane}}/api/agent?asset=https://knowledge.int.demo.catena-x.net/oem-edc-control/BPNL00000003COJN%23urn:cx:Graph:oem:Diagnosis2022",
											"host": [
												"{{consumerAgentPlane}}"
											],
											"path": [
												"api",
												"agent"
											],
											"query": [
												{
													"key": "asset",
													"value": "http://oem-control-plane:8282%23urn:cx:Graph:oem:Diagnosis2022",
													"disabled": true
												},
												{
													"key": "asset",
													"value": "https://knowledge.int.demo.catena-x.net/oem-edc-control/BPNL00000003COJN%23urn:cx:Graph:oem:Diagnosis2022"
												}
											]
										},
										"description": "Uses the Agent Extension of the Dataplane to Perform Some Dynamic Query on a Local Graph (here: the federated data catalogue)."
									},
									"response": []
								},
								{
									"name": "Post Remote SparQL (Function)",
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"content-type": true,
											"accept": true
										}
									},
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/sparql-query",
												"type": "text"
											},
											{
												"key": "Accept",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "PREFIX cx: <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#> \nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#> \nPREFIX json: <https://json-schema.org/draft/2020-12/schema#> \nPREFIX cx-lifetime: <https://github.com/catenax-ng/product-knowledge/ontology/lifetime.ttl#>\n\nSELECT ?invocation ?distance ?time\nWHERE { \n    GRAPH <urn:cx:Graph:tierA:LifetimeGearbox> {\n        ?invocation a cx-lifetime:LifetimePrognosis;\n              cx-lifetime:loadCollectiveFile \"{  \\\"Type\\\": \\\"ZF_load_collective\\\", \\\"Version\\\": \\\"1.7\\\"  }\"^^json:Object; \n              cx-lifetime:loadCollectiveHeader \"{  \\\"CountingMethod\\\": \\\"ZF_TimeAtLevel\\\",    \\\"CountingUnit\\\": \\\"s\\\",    \\\"Channels\\\": [      {        \\\"Name\\\": \\\"Temp_Oil\\\",        \\\"Type\\\": \\\"Load\\\",        \\\"Unit\\\": \\\"degC\\\",        \\\"LowerLimit\\\": -40,        \\\"UpperLimit\\\": 220,        \\\"NumberOfBins\\\": 52      }  ]  }\"^^json:Object; \n              cx-lifetime:loadCollectiveBody \"{     \\\"Temp_Oil-class\\\": [1, 3, 4, 5, 7, 8, 12, 13, 17, 18, 20, 22, 23, 25, 28, 29, 31, 32, 33, 34, 36, 37, 38, 41, 42, 44, 45, 47, 48, 49, 50, 51],  \\\"Counts\\\": [7.234E+01, 2.345E+02, 6.654E+02, 5.983E+01, 4.321E+02, 3.876E+02, 5.567E+01, 3.4456E+02, 4.556645E+02, 5.678E+01, 4.321E+02, 6.098E+02, 7.432E+02, 8.873E+02, 4.738E+01, 6.927E+01, 1.234E+02, 2.345E+02, 3.654E+02, 2.983E+01, 4.321E+01, 3.876E+02, 5.567E+02, 3.4456E+02, 4.556645E+02, 5.678E+01, 4.321E+01, 6.098E+01, 3.432E+02, 1.873E+02, 4.738E+02, 6.927E+02] }\"^^json:Object; \n              cx-lifetime:loadCollectiveComponent \"GearOil\"^^xsd:string; \n              cx-lifetime:loadCollectiveMileage \"{ \\\"Value\\\": 82563, \\\"Unit\\\": \\\"km\\\" }\"^^json:Object; \n              cx-lifetime:loadCollectiveRegistrationDate \"{ \\\"Value\\\": 20171206,  \\\"Unit\\\": \\\"yyyymmdd\\\" }\"^^json:Object; \n              cx-lifetime:remainingDistance ?distance; \n              cx-lifetime:remainingTime ?time.\n    }\n}"
										},
										"url": {
											"raw": "{{consumerAgentPlane}}/api/agent?asset=https://knowledge.dev.demo.catena-x.net/tiera-edc-control/BPNL00000003CPIY%23urn:cx:Graph:tierA:LifetimeGearbox",
											"host": [
												"{{consumerAgentPlane}}"
											],
											"path": [
												"api",
												"agent"
											],
											"query": [
												{
													"key": "asset",
													"value": "https://knowledge.int.demo.catena-x.net/tiera-edc-control/BPNL00000003CPIY%23urn:cx:Graph:tierA:LifetimeGearbox",
													"description": "Dataspace Asset",
													"disabled": true
												},
												{
													"key": "asset",
													"value": "http://tiera-control-plane:8282%23urn:cx:Graph:tierA:LifetimeGearbox",
													"disabled": true
												},
												{
													"key": "asset",
													"value": "https://knowledge.dev.demo.catena-x.net/tiera-edc-control/BPNL00000003CPIY%23urn:cx:Graph:tierA:LifetimeGearbox"
												}
											]
										},
										"description": "Uses the Agent Extension of the Dataplane to Perform Some Dynamic Query on a Local Graph (here: the federated data catalogue)."
									},
									"response": []
								},
								{
									"name": "Post Remote SparQL (Batch Function)",
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"content-type": true,
											"accept": true
										}
									},
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/sparql-query",
												"type": "text"
											},
											{
												"key": "Accept",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "PREFIX cx: <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#> \nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#> \nPREFIX json: <https://json-schema.org/draft/2020-12/schema#> \nPREFIX cx-health: <https://github.com/catenax-ng/product-knowledge/ontology/health.ttl#>\n\nSELECT ?invocation ?healthValues\nWHERE { \n    GRAPH <urn:cx:Graph:tierA:HealthIndicatorGearbox> {\n        ?invocation a cx-health:HealthIndication;\n                      cx-health:requestComponentId <urn:cx:AnonymousSerializedPart#GB4711>;\n                      cx-health:classifiedLoadCollectiveFile \"{  \\\"Type\\\": \\\"ZF_load_collective\\\", \\\"Version\\\": \\\"1.7\\\"  }\"^^json:Object; \n                      cx-health:classifiedLoadCollectiveHeader \"{  \\\"CountingMethod\\\": \\\"ZF_TimeAtLevel\\\",    \\\"CountingUnit\\\": \\\"s\\\",    \\\"Channels\\\": [      {        \\\"Name\\\": \\\"Temp_Oil\\\",        \\\"Type\\\": \\\"Load\\\",        \\\"Unit\\\": \\\"degC\\\",        \\\"LowerLimit\\\": -40,        \\\"UpperLimit\\\": 220,        \\\"NumberOfBins\\\": 52      }  ]  }\"^^json:Object; \n                      cx-health:classifiedLoadCollectiveBody \"{     \\\"Temp_Oil-class\\\": [1, 3, 4, 5, 7, 8, 12, 13, 17, 18, 20, 22, 23, 25, 28, 29, 31, 32, 33, 34, 36, 37, 38, 41, 42, 44, 45, 47, 48, 49, 50, 51],  \\\"Counts\\\": [7.234E+01, 2.345E+02, 6.654E+02, 5.983E+01, 4.321E+02, 3.876E+02, 5.567E+01, 3.4456E+02, 4.556645E+02, 5.678E+01, 4.321E+02, 6.098E+02, 7.432E+02, 8.873E+02, 4.738E+01, 6.927E+01, 1.234E+02, 2.345E+02, 3.654E+02, 2.983E+01, 4.321E+01, 3.876E+02, 5.567E+02, 3.4456E+02, 4.556645E+02, 5.678E+01, 4.321E+01, 6.098E+01, 3.432E+02, 1.873E+02, 4.738E+02, 6.927E+02] }\"^^json:Object; \n                      cx-health:adaptionValueVersion \"VER_AV_001\"^^xsd:string; \n                      cx-health:adaptionValueTimestamp \"2022-10-12T08:17:18.734Z\"^^xsd:dateTime;\n                      cx-health:adaptionValueMileage \"82563.02\"^^xsd:double; \n                      cx-health:adaptionValueOperatingTime \"45667765\"^^xsd:long;\n                      cx-health:adaptionValueList \"[ 0.543534, 0.543535, 0.543536, 0.543537 ]\"^^json:Object;\n                      cx-health:indicatorVersion ?iversion;\n                      cx-health:responseComponentId ?component;\n                      cx-health:healthIndicatorValues ?healthValues.    \n    }\n}"
										},
										"url": {
											"raw": "{{consumerAgentPlane}}/api/agent?asset=http://tiera-control-plane:8282%23urn:cx:Graph:tierA:HealthIndicatorGearbox",
											"host": [
												"{{consumerAgentPlane}}"
											],
											"path": [
												"api",
												"agent"
											],
											"query": [
												{
													"key": "asset",
													"value": "https://knowledge.int.demo.catena-x.net/tiera-edc-control/BPNL00000003CPIY%23urn:cx:Graph:tierA:HealthIndicatorGearbox",
													"description": "Dataspace Asset",
													"disabled": true
												},
												{
													"key": "asset",
													"value": "http://tiera-control-plane:8282%23urn:cx:Graph:tierA:HealthIndicatorGearbox"
												},
												{
													"key": "asset",
													"value": "https://knowledge.dev.demo.catena-x.net/tiera-edc-control/BPNL00000003CPIY%23urn:cx:Graph:tierA:HealthIndicatorGearbox",
													"disabled": true
												}
											]
										},
										"description": "Uses the Agent Extension of the Dataplane to Perform Some Dynamic Query on a Local Graph (here: the federated data catalogue)."
									},
									"response": []
								},
								{
									"name": "Post Federated SparQL (Shortcut Over Backends)",
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"content-type": true
										}
									},
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/sparql-query",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "PREFIX cx: <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#>\nPREFIX cx-diag: <https://github.com/catenax-ng/product-knowledge/ontology/diagnosis.ttl#>\nPREFIX cx-lifetime: <https://github.com/catenax-ng/product-knowledge/ontology/lifetime.ttl#>\nPREFIX json: <https://json-schema.org/draft/2020-12/schema#> \nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#> \nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\n\n#\n# Sample for a Federated Skill (No Matchmaking) Which\n#  - Uses an OEM connector/agent to infer diagnosis data \n#  - Feeds this data into a Tier A connector/agent to perform a prognosis \n\nSELECT ?vin ?troubleCode ?description ?partProg ?distance ?time WHERE {\n\n    # Actual input parameters, when used as a predefined skill, \n    # these would be the named URL (or body multi-form) parameters\n    # Since you could use them multiple times, there is a combinatorial difference in \n    # defining them as single variables or as combined tuples\n    VALUES (?vin ?troubleCode) { (\"WVA8984323420333\"^^xsd:string \"P0745\"^^xsd:string) }\n\n    # In this place, there would be a to-be-implemented catalogue logic \n    # (so the default \"asset\" would be the catalogue including the CX ontology)\n    # which maps the VIN via regular expressions to the right \n    # business partner and connector\n    # Currently, we chose even not the connector, but the backend directly\n    VALUES (?oemBpn ?oemConnector) { (\"BPNL00000003COJN\"^^xsd:string <{{oemProviderAgent}}/sparql>) }\n\n    # Now we are jumping into the OEM\n    SERVICE ?oemConnector { \n        # Select Business Partner Node\n        ?Oem cx:BPNL ?oemBpn.\n\n        # Unless we have vehicle master data, we directly bind the variables\n        VALUES (?mileage ?registrationDate) { (\n            \"{ \\\"Value\\\": 82563, \\\"Unit\\\": \\\"km\\\" }\"^^json:Object\n            \"{ \\\"Value\\\": 20171206,  \\\"Unit\\\": \\\"yyyymmdd\\\" }\"^^json:Object\n        )}\n\n        # Search for troubled parts to forecast\n        ?Dtc rdf:type cx-diag:DTC;\n            cx:provisionedBy ?Oem;\n            cx-diag:PossibleCauses ?reason;\n            cx-diag:Code ?troubleCode;\n            cx-diag:Description ?description.\n        \n        # Unless we have a mapping of diagnosed parts to the prognosed parts\n        VALUES ?partProg { \"GearOil\"^^xsd:string }        \n\n        # Next we need to find the appropriate load spectrum associated to the prognosed part\n        VALUES ?loadCollective { \n         \"{ \\\"Temp_Oil-class\\\": [1, 3, 4, 5, 7, 8, 12, 13, 17, 18, 20, 22, 23, 25, 28, 29, 31, 32, 33, 34, 36, 37, 38, 41, 42, 44, 45, 47, 48, 49, 50, 51],  \\\"Counts\\\": [7.234E+01, 2.345E+02, 6.654E+02, 5.983E+01, 4.321E+02, 3.876E+02, 5.567E+01, 3.4456E+02, 4.556645E+02, 5.678E+01, 4.321E+02, 6.098E+02, 7.432E+02, 8.873E+02, 4.738E+01, 6.927E+01, 1.234E+02, 2.345E+02, 3.654E+02, 2.983E+01, 4.321E+01, 3.876E+02, 5.567E+02, 3.4456E+02, 4.556645E+02, 5.678E+01, 4.321E+01, 6.098E+01, 3.432E+02, 1.873E+02, 4.738E+02, 6.927E+02] }\"^^json:Object\n        }\n\n        # we need to find the right supplier for the trouble part\n        VALUES (?tieraBpn ?tieraConnector) {\n           (\"BPNL00000003CPIY\"^^xsd:string <{{tierARemotingAgent}}/repositories/prognosis>) \n        }       \n\n    }\n\n    # Now we are jumping into the tiera\n    # Notice that ideally, the OEM agent would perform this\n    # as the consumer will have most likely no agreement/contract\n    # for this purpose this SERVICE section would be nested\n    # into the former section\n    SERVICE ?tieraConnector { \n        ?invocation a cx-lifetime:LifetimePrognosis;\n            # Input from the OEM\n            cx-lifetime:loadCollectiveBody ?loadCollective;\n            cx-lifetime:loadCollectiveComponent ?partProg;\n            cx-lifetime:loadCollectiveMileage ?mileage;\n            cx-lifetime:loadCollectiveRegistrationDate ?registrationDate;\n            # Additional info from the Tiera about its measurements\n            cx-lifetime:loadCollectiveFile \"{  \\\"Type\\\": \\\"ZF_load_collective\\\", \\\"Version\\\": \\\"1.7\\\"  }\"^^json:Object; \n            cx-lifetime:loadCollectiveHeader \"{  \\\"CountingMethod\\\": \\\"ZF_TimeAtLevel\\\",    \\\"CountingUnit\\\": \\\"s\\\",    \\\"Channels\\\": [      {        \\\"Name\\\": \\\"Temp_Oil\\\",        \\\"Type\\\": \\\"Load\\\",        \\\"Unit\\\": \\\"degC\\\",        \\\"LowerLimit\\\": -40,        \\\"UpperLimit\\\": 220,        \\\"NumberOfBins\\\": 52      }  ]  }\"^^json:Object; \n            # the actual prognosis output\n            cx-lifetime:remainingDistance ?distance; \n            cx-lifetime:remainingTime ?time.\n    }\n\n\n}\n\n",
											"options": {
												"raw": {
													"language": "text"
												}
											}
										},
										"url": {
											"raw": "{{consumerAgentPlane}}/api/agent",
											"host": [
												"{{consumerAgentPlane}}"
											],
											"path": [
												"api",
												"agent"
											]
										},
										"description": "Uses the Agent Extension of the Dataplane to Perform Some Dynamic Query on Remote Graphs."
									},
									"response": []
								},
								{
									"name": "Post Federated SparQL (over Dataspace)",
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"content-type": true
										}
									},
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/sparql-query",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "PREFIX xsd:           <http://www.w3.org/2001/XMLSchema#> \nPREFIX rdf:           <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs:          <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX cx:            <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#>\nPREFIX cx-diag:       <https://github.com/catenax-ng/product-knowledge/ontology/diagnosis.ttl#>\nPREFIX cx-telematics: <https://github.com/catenax-ng/product-knowledge/ontology/telematics.ttl#>\n@prefix cx-health: <https://github.com/catenax-ng/product-knowledge/ontology/health.ttl#>.\n\n##############################################################################################\n#                  Catena-X Knowledge Agents Sample Federated Skill                          #\n#                         Realizes a 5-Step Business Process                                 #\n#            \"Remaining Useful Life Prognosis based on Diagnosis TroubleCodes\"               #\n##############################################################################################\n# Preconditions:                                                                             #\n# - A Contract Offering from OEM (e.g. BMW) to CONSUMER (e.g. ADAC)                          #\n#   - VIN-VAN Conversion                                                                     #\n#   - DTC Analysis/Resolution (including the READING of PartType and Description)            #\n#   - Serial Part & SUPPLIER Lookup                                                          #\n# - A Contract Offering from SUPPLIER (e.g. ZF) to OEM                                       #\n#   - Telematics data (including the PROPAGATION of LoadSpectrum)                            #\n#   - RUL Prognosis Invocation (including the DISTRIBUTION of RUL results)                   #\n##############################################################################################\n\n####\n# 5. Project the actual output of the Skill on CONSUMER side\n####\nSELECT ?vin ?van ?troubleCode ?description ?serializedPartName ?distance ?time WHERE {\n\n    ####\n    # 1. The CONSUMER detects a trouble code on a car in his fleet\n    ####\n    VALUES (?vin ?troubleCode) { (\"WBAAL31029PZ00001\"^^xsd:string \"P0745\"^^xsd:string) }.\n\n    ####\n    # 2. The CONSUMER looks up the OEM (connector) associated to the VIN \n    #    using the Federated Data Catalogue  (Catalogue=Default Graph)\n    ####\n    ?oem cx:isIssuerOfVehicleIdentificationNumber ?vin;\n         cx:hasConnector ?oemConnector.\n\n    ?oemConnector cx:offersAsset ?diagnoseAsset.\n    ?diagnoseAsset rdfs:isDefinedBy \"https://github.com/catenax-ng/product-knowledge/ontology/diagnosis_ontology.ttl\"^^xsd:string.\n\n    ####\n    # 3. The CONSUMER delegates the following logic to the OEM (connector)\n    ####\n    SERVICE ?oemConnector { \n\n        ####\n        # 3.1 The OEM (e.g. BMW) anomyzes the VIN into an anomymous (VAN) node\n        #.    and gets some master data with it \n        ####\n        ?van cx:isAnonymousVehicle ?vin;\n             cx:hasRegistration ?registration.\n\n        ####\n        # 3.2 The OEM analyzes the DTC-affected part type (Diagnosis Graph)\n        ####\n        GRAPH ?diagnoseAsset {\n\n           ?Dtc rdf:type cx-diag:DTC; \n                cx-diag:Code ?troubleCode;\n                cx-diag:affects [ cx-diag:EnDenomination ?partType ]; \n                cx-diag:Description ?description.\n        \n        } # OEM#Diagnosis context\n\n        ####\n        # 3.3 The OEM obtains fresh telematics/load-spectrum data for the vehicle\n        #     focussed to the problematic partType (Telematics Graph) \n        ####\n        ?van cx-telematics:latestMileageReceived ?mileage;\n             cx-telematics:latestDetailReceived ?telematicsDetail.\n        ?telematicsDetail cx-diag:hasPartType ?partType;\n                          cx-diag:hasLoadSpectrum ?loadSpectrum.\n\n        ####\n        # 3.4 The OEM looks up the serialized part of the VAN (Traceability Graph)\n        #     and the supplier address in the dataspace\n        ####\n        ?serializedPart cx:isComponentOf+ ?van;\n                        cx:hasPartType ?partType;\n                        cx:hasName ?serializedPartName;\n                        cx:hasSupplier [\n                            cx:hasConnector ?tieraConnector\n                        ].           \n\n        ?tieraConnector cx:offersAsset ?prognosisAsset.\n        ?prognosisAsset rdfs:isDefinedBy \"https://github.com/catenax-ng/product-knowledge/ontology/lifetime.ttl#\"^^xsd:string.\n\n        ####\n        # 4. The OEM (and not the CONSUMER) delegates to the SUPPLIER (connector)\n        #    which means that load spectrum data etc is only exchanged using their\n        #    contract and between their connectors.\n        ####\n        SERVICE ?tieraConnector { \n\n            ####\n            # 4.1 The SUPPLIER adds additional measurement information\n            ####\n            ?telematicsDetail cx-telematics:hasFile ?loadSpectrumFile;\n                              cx-telematics:hasHeader ?loadSpectrumHeader.\n\n            ####\n            # 4.2 The SUPPLIER invokes a prognosis model associated the part type using the load-spectrum data\n            ####\n            GRAPH ?prognosisAsset {\n\n                ?invocation rdf:type cx-lifetime:LifetimePrognosis;\n                    \n                    # <--General vehicle info\n                    cx-lifetime:loadCollectiveMileage ?mileage;\n                    cx-lifetime:loadCollectiveRegistrationDate ?registration;\n\n                    # <--Part Info from the OEM\n                    cx-lifetime:loadCollectiveComponent ?serializedPartName;\n                    cx-lifetime:loadCollectiveBody ?loadSpectrum;\n                    \n                    # <--Additional info from the SUPPLIER\n                    cx-lifetime:loadCollectiveFile ?loadSpectrumFile;\n                    cx-lifetime:loadCollectiveHeader ?loadSpectrumHeader; \n                    \n                    # -->the actual prognosis output\n                    cx-lifetime:remainingDistance ?distance; \n                    cx-lifetime:remainingTime ?time.\n            \n            } # SUPPLIER#Prognosis context\n        \n        } # SUPPLIER context\n\n    } # OEM context\n\n   # now we do reporting/operationalising on the CONSUMER side\n} ORDER BY ?remainingDistance LIMIT 5\n\n",
											"options": {
												"raw": {
													"language": "text"
												}
											}
										},
										"url": {
											"raw": "{{consumerAgentPlane}}/api/agent",
											"host": [
												"{{consumerAgentPlane}}"
											],
											"path": [
												"api",
												"agent"
											]
										},
										"description": "Uses the Agent Extension of the Dataplane to Perform Some Dynamic Query on Remote Graphs."
									},
									"response": []
								},
								{
									"name": "Post Federated Batch SparQL (over Dataspace)",
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"content-type": true
										}
									},
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/sparql-query",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "PREFIX xsd:           <http://www.w3.org/2001/XMLSchema#> \nPREFIX json:          <https://json-schema.org/draft/2020-12/schema#>\nPREFIX rdf:           <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs:          <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX cx:            <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#>\nPREFIX cx-diag:       <https://github.com/catenax-ng/product-knowledge/ontology/diagnosis.ttl#>\nPREFIX cx-telematics: <https://github.com/catenax-ng/product-knowledge/ontology/telematics.ttl#>\nPREFIX cx-health: <https://github.com/catenax-ng/product-knowledge/ontology/health.ttl#>\n\n##############################################################################################\n#                  Catena-X Knowledge Agents Sample Federated Skill                          #\n#                         Realizes a 5-Step Business Process                                 #\n#                            \"Health Indicator Prognosis\"                                    #\n##############################################################################################\n# Preconditions:                                                                             #\n# - A Contract Offering from OEM (e.g. BMW) to CONSUMER (e.g. ADAC)                          #\n#   - VIN-VAN Conversion                                                                     #\n#   - Serial Part & SUPPLIER Lookup                                                          #\n# - A Contract Offering from SUPPLIER (e.g. ZF) to OEM                                       #\n#   - Telematics data (including the PROPAGATION of LoadSpectrum)                            #\n#   - HI Prognosis Invocation (including the DISTRIBUTION of RUL results)                   #\n##############################################################################################\n\n####\n# 5. Project the actual output of the Skill on CONSUMER side\n####\nSELECT ?vin ?van ?indicatorComponentId ?health WHERE {\n\n    ####\n    # 1. The CONSUMER detects a trouble code on a car in his fleet\n    ####\n    VALUES (?vin ?partType) { (\"WBAAL31029PZ00002\"^^xsd:string \"clutch\"^^xsd:string) }.\n\n    ####\n    # 2. The CONSUMER looks up the OEM (connector) associated to the VIN \n    #    using the Federated Data Catalogue  (Catalogue=Default Graph)\n    ####\n    ?oem cx:isIssuerOfVehicleIdentificationNumber ?vin;\n         cx:hasConnector ?oemConnector.\n\n    ?oemConnector cx:offersAsset ?diagnoseAsset.\n    ?diagnoseAsset rdfs:isDefinedBy \"https://github.com/catenax-ng/product-knowledge/ontology/diagnosis_ontology.ttl\"^^xsd:string.\n\n    ####\n    # 3. The CONSUMER delegates the following logic to the OEM (connector)\n    ####\n    SERVICE ?oemConnector { \n\n        ####\n        # 3.1 The OEM (e.g. BMW) anomyzes the VIN into an anomymous (VAN) node\n        #.    and gets some master data with it \n        ####\n        ?van cx:isAnonymousVehicle ?vin;\n             cx:hasRegistration ?registration.\n        GRAPH ?diagnoseAsset {    \n        } # OEM#Diagnosis context\n\n        ####\n        # 3.2 The OEM obtains fresh telematics/load-spectrum data for the vehicle\n        #     focussed to the problematic partType (Telematics Graph) \n        ####\n        ?van cx-telematics:latestMileage ?mileage;\n             cx-telematics:operatingTime ?operatingTime;\n             cx-telematics:latestDetailReceived ?telematicsDetail.\n\n        ?telematicsDetail cx-diag:hasPartType ?partType;\n                          cx-diag:whenRecorded ?recordedTime;\n                          cx-diag:hasAdaptionValues ?adaptionValues;\n                          cx-diag:hasLoadSpectrum ?loadSpectrum.\n\n        ####\n        # 3.3 The OEM looks up the serialized part of the VAN (Traceability Graph)\n        #     and the supplier address in the dataspace\n        ####\n        ?serializedPart cx:isComponentOf+ ?van;\n                        cx:hasPartType ?partType;\n                        cx:hasSupplier [\n                            cx:hasConnector ?tieraConnector\n                        ].           \n\n        ?tieraConnector cx:offersAsset ?healthAsset.\n        ?healthAsset rdfs:isDefinedBy \"https://github.com/catenax-ng/product-knowledge/ontology/health.ttl#\"^^xsd:string.\n\n        ####\n        # 4. The OEM (and not the CONSUMER) delegates to the SUPPLIER (connector)\n        #    which means that load spectrum data etc is only exchanged using their\n        #    contract and between their connectors.\n        ####\n        SERVICE ?tieraConnector { \n\n            ####\n            # 4.1 The SUPPLIER adds additional measurement information\n            ####\n            ?telematicsDetail cx-telematics:hasFile ?loadSpectrumFile;\n                              cx-telematics:hasAdaptionVersion ?adaptionVersion;\n                              cx-telematics:hasHeader ?loadSpectrumHeader.\n\n            ####\n            # 4.2 The SUPPLIER invokes a prognosis model associated the part type using the load-spectrum data\n            ####\n            GRAPH ?healthAsset {\n                ?invocation rdf:type cx-health:HealthIndication;\n                                     cx-health:requestComponentId ?serializedPart;\n                                     cx-health:classifiedLoadCollectiveFile ?loadSpectrumFile;\n                                     cx-health:classifiedLoadCollectiveHeader ?loadSpectrumHeader;\n                                     cx-health:classifiedLoadCollectiveBody ?loadSpectrum;\n                                     cx-health:adaptionValueVersion ?adaptionVersion; \n                                     cx-health:adaptionValueTimestamp ?recordedTime;\n                                     cx-health:adaptionValueMileage ?mileage; \n                                     cx-health:adaptionValueOperatingTime ?operatingTime;\n                                     cx-health:adaptionValueList ?adaptionValues;\n                                     cx-health:indicatorVersion ?indicatorVersion;\n                                     cx-health:responseComponentId ?indicatorComponentId;\n                                     cx-health:healthIndicatorValues ?health.\n            \n            } # SUPPLIER#Prognosis context\n        \n        } # SUPPLIER context\n\n    } # OEM context\n\n} \n\n",
											"options": {
												"raw": {
													"language": "text"
												}
											}
										},
										"url": {
											"raw": "{{consumerAgentPlane}}/api/agent",
											"host": [
												"{{consumerAgentPlane}}"
											],
											"path": [
												"api",
												"agent"
											]
										},
										"description": "Uses the Agent Extension of the Dataplane to Perform Some Dynamic Query on Remote Graphs."
									},
									"response": []
								},
								{
									"name": "Post Supply Chain Trace",
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"content-type": true
										}
									},
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/sparql-query",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "PREFIX xsd:           <http://www.w3.org/2001/XMLSchema#> \nPREFIX rdf:           <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs:          <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX cx:            <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#>\nPREFIX cx-diag:       <https://github.com/catenax-ng/product-knowledge/ontology/diagnosis.ttl#>\nPREFIX cx-telematics: <https://github.com/catenax-ng/product-knowledge/ontology/telematics.ttl#>\nPREFIX cx-lifetime:   <https://github.com/catenax-ng/product-knowledge/ontology/lifetime.ttl#>\n\nSELECT ?vin ?van ?troubleCode ?oemConnector ?diagnoseAsset WHERE {\n\n    ####\n    # 1. The CONSUMER detects a trouble code on a car in his fleet\n    ####\n    VALUES (?vin ?troubleCode) { (\"@vin\"^^xsd:string \"@troubleCode\"^^xsd:string) }.\n    \n    ####\n    # 2. The CONSUMER looks up the OEM (connector) associated to the VIN \n    #    using the Federated Data Catalogue  (Catalogue=Default Graph)\n    ####\n    ?oem cx:isIssuerOfVehicleIdentificationNumber ?vin;\n         cx:hasConnector ?oemConnector.\n\n    SERVICE ?oemConnector {\n        VALUES(?van) { str(?vin) }.\n    }\n\n   # now we do reporting/operationalising on the CONSUMER side\n} \n\n",
											"options": {
												"raw": {
													"language": "text"
												}
											}
										},
										"url": {
											"raw": "{{consumerAgentPlane}}/api/agent?(vin=WBAAL31029PZ00001)&(vin=WBAAL31029PZ00002)&troubleCode=P0746",
											"host": [
												"{{consumerAgentPlane}}"
											],
											"path": [
												"api",
												"agent"
											],
											"query": [
												{
													"key": "(vin",
													"value": "WBAAL31029PZ00001)"
												},
												{
													"key": "(vin",
													"value": "WBAAL31029PZ00002)"
												},
												{
													"key": "troubleCode",
													"value": "P0746"
												}
											]
										},
										"description": "Uses the Agent Extension of the Dataplane to Perform Some Dynamic Query on Remote Graphs."
									},
									"response": []
								},
								{
									"name": "Register Lifetime Skill",
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"content-type": true
										}
									},
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/sparql-query",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "PREFIX xsd:           <http://www.w3.org/2001/XMLSchema#> \nPREFIX rdf:           <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs:          <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX cx:            <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#>\nPREFIX cx-diag:       <https://github.com/catenax-ng/product-knowledge/ontology/diagnosis.ttl#>\nPREFIX cx-telematics: <https://github.com/catenax-ng/product-knowledge/ontology/telematics.ttl#>\nPREFIX cx-lifetime:   <https://github.com/catenax-ng/product-knowledge/ontology/lifetime.ttl#>\n\n##############################################################################################\n#                  Catena-X Knowledge Agents Sample Federated Skill                          #\n#                         Realizes a 5-Step Business Process                                 #\n#            \"Remaining Useful Life Prognosis based on Diagnosis TroubleCodes\"               #\n##############################################################################################\n# Preconditions:                                                                             #\n# - A Contract Offering from OEM (e.g. BMW) to CONSUMER (e.g. ADAC)                          #\n#   - VIN-VAN Conversion                                                                     #\n#   - DTC Analysis/Resolution (including the READING of PartType and Description)            #\n#   - Serial Part & SUPPLIER Lookup                                                          #\n# - A Contract Offering from SUPPLIER (e.g. ZF) to OEM                                       #\n#   - Telematics data (including the PROPAGATION of LoadSpectrum)                            #\n#   - RUL Prognosis Invocation (including the DISTRIBUTION of RUL results)                   #\n##############################################################################################\n\n####\n# 5. Project the actual output of the Skill on CONSUMER side\n####\nSELECT ?vin ?van ?troubleCode ?description ?serializedPartName ?distance ?time WHERE {\n\n    ####\n    # 1. The CONSUMER detects a trouble code on a car in his fleet\n    ####\n    VALUES (?vin ?troubleCode) { (\"@vin\"^^xsd:string \"@troubleCode\"^^xsd:string) }.\n    \n    ####\n    # 2. The CONSUMER looks up the OEM (connector) associated to the VIN \n    #    using the Federated Data Catalogue  (Catalogue=Default Graph)\n    ####\n    ?oem cx:isIssuerOfVehicleIdentificationNumber ?vin;\n         cx:hasConnector ?oemConnector.\n\n    ?oemConnector cx:offersAsset ?diagnoseAsset.\n    ?diagnoseAsset rdfs:isDefinedBy \"https://github.com/catenax-ng/product-knowledge/ontology/diagnosis_ontology.ttl\"^^xsd:string.\n\n    ####\n    # 3. The CONSUMER delegates the following logic to the OEM (connector)\n    ####\n    SERVICE ?oemConnector { \n\n        ####\n        # 3.1 The OEM (e.g. BMW) anomyzes the VIN into an anomymous (VAN) node\n        #.    and gets some master data with it \n        ####\n        ?van cx:isAnonymousVehicle ?vin;\n             cx:hasRegistration ?registration.\n\n        ####\n        # 3.2 The OEM analyzes the DTC-affected part type (Diagnosis Graph)\n        ####\n        GRAPH ?diagnoseAsset {\n\n           ?Dtc rdf:type cx-diag:DTC; \n                cx-diag:Code ?troubleCode;\n                cx-diag:affects [ cx-diag:EnDenomination ?partType ]; \n                cx-diag:Description ?description.\n        \n        } # OEM#Diagnosis context\n\n        ####\n        # 3.3 The OEM obtains fresh telematics/load-spectrum data for the vehicle\n        #     focussed to the problematic partType (Telematics Graph) \n        ####\n        ?van cx-telematics:latestMileageReceived ?mileage;\n             cx-telematics:latestDetailReceived ?telematicsDetail.\n        ?telematicsDetail cx-diag:hasPartType ?partType;\n                          cx-diag:hasLoadSpectrum ?loadSpectrum.\n\n        ####\n        # 3.4 The OEM looks up the serialized part of the VAN (Traceability Graph)\n        #     and the supplier address in the dataspace\n        ####\n        ?serializedPart cx:isComponentOf+ ?van;\n                        cx:hasPartType ?partType;\n                        cx:hasName ?serializedPartName;\n                        cx:hasSupplier [\n                            cx:hasConnector ?tieraConnector\n                        ].           \n\n        ?tieraConnector cx:offersAsset ?prognosisAsset.\n        ?prognosisAsset rdfs:isDefinedBy \"https://github.com/catenax-ng/product-knowledge/ontology/lifetime.ttl#\"^^xsd:string.\n\n        ####\n        # 4. The OEM (and not the CONSUMER) delegates to the SUPPLIER (connector)\n        #    which means that load spectrum data etc is only exchanged using their\n        #    contract and between their connectors.\n        ####\n        SERVICE ?tieraConnector { \n\n            ####\n            # 4.1 The SUPPLIER adds additional measurement information\n            ####\n            ?telematicsDetail cx-telematics:hasFile ?loadSpectrumFile;\n                              cx-telematics:hasHeader ?loadSpectrumHeader.\n\n            ####\n            # 4.2 The SUPPLIER invokes a prognosis model associated the part type using the load-spectrum data\n            ####\n            GRAPH ?prognosisAsset {\n\n                ?invocation rdf:type cx-lifetime:LifetimePrognosis;\n                    \n                    # <--General vehicle info\n                    cx-lifetime:loadCollectiveMileage ?mileage;\n                    cx-lifetime:loadCollectiveRegistrationDate ?registration;\n\n                    # <--Part Info from the OEM\n                    cx-lifetime:loadCollectiveComponent ?serializedPartName;\n                    cx-lifetime:loadCollectiveBody ?loadSpectrum;\n                    \n                    # <--Additional info from the SUPPLIER\n                    cx-lifetime:loadCollectiveFile ?loadSpectrumFile;\n                    cx-lifetime:loadCollectiveHeader ?loadSpectrumHeader; \n                    \n                    # -->the actual prognosis output\n                    cx-lifetime:remainingDistance ?distance; \n                    cx-lifetime:remainingTime ?time.\n            \n            } # SUPPLIER#Prognosis context\n        \n        } # SUPPLIER context\n\n    } # OEM context\n\n   # now we do reporting/operationalising on the CONSUMER side\n} ORDER BY ?remainingDistance LIMIT 5\n\n",
											"options": {
												"raw": {
													"language": "text"
												}
											}
										},
										"url": {
											"raw": "{{consumerAgentPlane}}/api/agent/skill?asset=urn:cx:Skill:consumer:Lifetime",
											"host": [
												"{{consumerAgentPlane}}"
											],
											"path": [
												"api",
												"agent",
												"skill"
											],
											"query": [
												{
													"key": "asset",
													"value": "urn:cx:Skill:consumer:Lifetime"
												}
											]
										},
										"description": "Uses the Agent Extension of the Dataplane to Store a Parameterized Query on Remote Graphs. Not the usage of the @ symbol to introduce a typed embedding of textual URL parameters."
									},
									"response": []
								},
								{
									"name": "Register Health Skill",
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"content-type": true
										}
									},
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/sparql-query",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "PREFIX xsd:           <http://www.w3.org/2001/XMLSchema#> \nPREFIX json:          <https://json-schema.org/draft/2020-12/schema#>\nPREFIX rdf:           <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs:          <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX cx:            <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#>\nPREFIX cx-diag:       <https://github.com/catenax-ng/product-knowledge/ontology/diagnosis.ttl#>\nPREFIX cx-telematics: <https://github.com/catenax-ng/product-knowledge/ontology/telematics.ttl#>\nPREFIX cx-health: <https://github.com/catenax-ng/product-knowledge/ontology/health.ttl#>\n\n##############################################################################################\n#                  Catena-X Knowledge Agents Sample Federated Skill                          #\n#                         Realizes a 5-Step Business Process                                 #\n#                            \"Health Indicator Prognosis\"                                    #\n##############################################################################################\n# Preconditions:                                                                             #\n# - A Contract Offering from OEM (e.g. BMW) to CONSUMER (e.g. ADAC)                          #\n#   - VIN-VAN Conversion                                                                     #\n#   - Serial Part & SUPPLIER Lookup                                                          #\n# - A Contract Offering from SUPPLIER (e.g. ZF) to OEM                                       #\n#   - Telematics data (including the PROPAGATION of LoadSpectrum)                            #\n#   - HI Prognosis Invocation (including the DISTRIBUTION of RUL results)                   #\n##############################################################################################\n\n####\n# 5. Project the actual output of the Skill on CONSUMER side\n####\nSELECT ?vin ?van ?indicatorComponentId ?health WHERE {\n\n    ####\n    # 1. The CONSUMER detects a trouble code on a car in his fleet\n    ####\n    VALUES (?vin ?partType) { (\"@vin\"^^xsd:string \"@aggregate\"^^xsd:string) }.\n\n    ####\n    # 2. The CONSUMER looks up the OEM (connector) associated to the VIN \n    #    using the Federated Data Catalogue  (Catalogue=Default Graph)\n    ####\n    ?oem cx:isIssuerOfVehicleIdentificationNumber ?vin;\n         cx:hasConnector ?oemConnector.\n\n    ?oemConnector cx:offersAsset ?diagnoseAsset.\n    ?diagnoseAsset rdfs:isDefinedBy \"https://github.com/catenax-ng/product-knowledge/ontology/diagnosis_ontology.ttl\"^^xsd:string.\n\n    ####\n    # 3. The CONSUMER delegates the following logic to the OEM (connector)\n    ####\n    SERVICE ?oemConnector { \n\n        ####\n        # 3.1 The OEM (e.g. BMW) anomyzes the VIN into an anomymous (VAN) node\n        #.    and gets some master data with it \n        ####\n        ?van cx:isAnonymousVehicle ?vin;\n             cx:hasRegistration ?registration.\n        GRAPH ?diagnoseAsset {    \n        } # OEM#Diagnosis context\n\n        ####\n        # 3.2 The OEM obtains fresh telematics/load-spectrum data for the vehicle\n        #     focussed to the problematic partType (Telematics Graph) \n        ####\n        ?van cx-telematics:latestMileage ?mileage;\n             cx-telematics:operatingTime ?operatingTime;\n             cx-telematics:latestDetailReceived ?telematicsDetail.\n\n        ?telematicsDetail cx-diag:hasPartType ?partType;\n                          cx-diag:whenRecorded ?recordedTime;\n                          cx-diag:hasAdaptionValues ?adaptionValues;\n                          cx-diag:hasLoadSpectrum ?loadSpectrum.\n\n        ####\n        # 3.3 The OEM looks up the serialized part of the VAN (Traceability Graph)\n        #     and the supplier address in the dataspace\n        ####\n        ?serializedPart cx:isComponentOf+ ?van;\n                        cx:hasPartType ?partType;\n                        cx:hasSupplier [\n                            cx:hasConnector ?tieraConnector\n                        ].           \n\n        ?tieraConnector cx:offersAsset ?healthAsset.\n        ?healthAsset rdfs:isDefinedBy \"https://github.com/catenax-ng/product-knowledge/ontology/health.ttl#\"^^xsd:string.\n\n        ####\n        # 4. The OEM (and not the CONSUMER) delegates to the SUPPLIER (connector)\n        #    which means that load spectrum data etc is only exchanged using their\n        #    contract and between their connectors.\n        ####\n        SERVICE ?tieraConnector { \n\n            ####\n            # 4.1 The SUPPLIER adds additional measurement information\n            ####\n            ?telematicsDetail cx-telematics:hasFile ?loadSpectrumFile;\n                              cx-telematics:hasAdaptionVersion ?adaptionVersion;\n                              cx-telematics:hasHeader ?loadSpectrumHeader.\n\n            ####\n            # 4.2 The SUPPLIER invokes a prognosis model associated the part type using the load-spectrum data\n            ####\n            GRAPH ?healthAsset {\n                ?invocation rdf:type cx-health:HealthIndication;\n                                     cx-health:requestComponentId ?serializedPart;\n                                     cx-health:classifiedLoadCollectiveFile ?loadSpectrumFile;\n                                     cx-health:classifiedLoadCollectiveHeader ?loadSpectrumHeader;\n                                     cx-health:classifiedLoadCollectiveBody ?loadSpectrum;\n                                     cx-health:adaptionValueVersion ?adaptionVersion; \n                                     cx-health:adaptionValueTimestamp ?recordedTime;\n                                     cx-health:adaptionValueMileage ?mileage; \n                                     cx-health:adaptionValueOperatingTime ?operatingTime;\n                                     cx-health:adaptionValueList ?adaptionValues;\n                                     cx-health:indicatorVersion ?indicatorVersion;\n                                     cx-health:responseComponentId ?indicatorComponentId;\n                                     cx-health:healthIndicatorValues ?health.\n            \n            } # SUPPLIER#Prognosis context\n        \n        } # SUPPLIER context\n\n    } # OEM context\n\n} \n\n",
											"options": {
												"raw": {
													"language": "text"
												}
											}
										},
										"url": {
											"raw": "{{consumerAgentPlane}}/api/agent/skill?asset=urn:cx:Skill:consumer:Health",
											"host": [
												"{{consumerAgentPlane}}"
											],
											"path": [
												"api",
												"agent",
												"skill"
											],
											"query": [
												{
													"key": "asset",
													"value": "urn:cx:Skill:consumer:Health"
												}
											]
										},
										"description": "Uses the Agent Extension of the Dataplane to Store a Parameterized Query on Remote Graphs. Not the usage of the @ symbol to introduce a typed embedding of textual URL parameters."
									},
									"response": []
								},
								{
									"name": "Show Skill",
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"content-type": true
										}
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/sparql-query",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{consumerAgentPlane}}/api/agent/skill?asset=urn:cx:Skill:consumer:Lifetime",
											"host": [
												"{{consumerAgentPlane}}"
											],
											"path": [
												"api",
												"agent",
												"skill"
											],
											"query": [
												{
													"key": "asset",
													"value": "urn:cx:Skill:consumer:Lifetime"
												}
											]
										},
										"description": "Uses the Agent Extension of the Dataplane to Invoke a Stored Skill."
									},
									"response": []
								},
								{
									"name": "Execute Lifetime Skill",
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"content-type": true
										}
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/sparql-query",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{consumerAgentPlane}}/api/agent?asset=urn:cx:Skill:consumer:Lifetime&(vin=WBAAL31029PZ00001&troubleCode=P0746&troubleCode=P0745)&(vin=WBAAL31029PZ00002&troubleCode=P0744)&(vin=WBAAL31029PZ00003&troubleCode=P0743)",
											"host": [
												"{{consumerAgentPlane}}"
											],
											"path": [
												"api",
												"agent"
											],
											"query": [
												{
													"key": "asset",
													"value": "urn:cx:Skill:consumer:Lifetime"
												},
												{
													"key": "(vin",
													"value": "WBAAL31029PZ00001"
												},
												{
													"key": "troubleCode",
													"value": "P0746"
												},
												{
													"key": "troubleCode",
													"value": "P0745)"
												},
												{
													"key": "(vin",
													"value": "WBAAL31029PZ00002"
												},
												{
													"key": "troubleCode",
													"value": "P0744)"
												},
												{
													"key": "(vin",
													"value": "WBAAL31029PZ00003"
												},
												{
													"key": "troubleCode",
													"value": "P0743)"
												},
												{
													"key": "shit",
													"value": "false",
													"disabled": true
												}
											]
										},
										"description": "Uses the Agent Extension of the Dataplane to Invoke a Stored Skill using Parameters. Note the tuple syntax for URL parameters using the \"(\" symbol as the starting character of parameter names to introduce nesting and the \")\" symbol as the ending character in parameter values to close a nested layer."
									},
									"response": []
								},
								{
									"name": "Execute Health Indicator Skill",
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"content-type": true
										}
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/sparql-query",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{consumerAgentPlane}}/api/agent?asset=urn:cx:Skill:consumer:Health&(vin=WBAAL31029PZ00001&aggregate=engine control module)&(vin=WBAAL31029PZ00002&aggregate=clutch)&(vin=WBAAL31029PZ00003&aggregate=wiring harness)",
											"host": [
												"{{consumerAgentPlane}}"
											],
											"path": [
												"api",
												"agent"
											],
											"query": [
												{
													"key": "asset",
													"value": "urn:cx:Skill:consumer:Health"
												},
												{
													"key": "(vin",
													"value": "WBAAL31029PZ00001"
												},
												{
													"key": "aggregate",
													"value": "engine control module)"
												},
												{
													"key": "(vin",
													"value": "WBAAL31029PZ00002"
												},
												{
													"key": "aggregate",
													"value": "clutch)"
												},
												{
													"key": "(vin",
													"value": "WBAAL31029PZ00003"
												},
												{
													"key": "aggregate",
													"value": "wiring harness)"
												},
												{
													"key": "shit",
													"value": "false",
													"disabled": true
												}
											]
										},
										"description": "Uses the Agent Extension of the Dataplane to Invoke a Stored Skill using Parameters. Note the tuple syntax for URL parameters using the \"(\" symbol as the starting character of parameter names to introduce nesting and the \")\" symbol as the ending character in parameter values to close a nested layer."
									},
									"response": []
								},
								{
									"name": "Post Federated Search (over Dataspace)",
									"protocolProfileBehavior": {
										"disabledSystemHeaders": {
											"content-type": true
										}
									},
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/sparql-query",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "PREFIX xsd:           <http://www.w3.org/2001/XMLSchema#>\nPREFIX rdf:           <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\nPREFIX rdfs:          <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX cx:            <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#>\nPREFIX cx-diag:       <https://github.com/catenax-ng/product-knowledge/ontology/diagnosis.ttl#>\n\n##############################################################################################\n#              Catena-X Knowledge Agents Sample Federated Search Skill                       #\n#                     Implements Trouble-Code Search based on VINs                           #\n##############################################################################################\n# Preconditions:                                                                             #\n# - A Contract Offering from OEM (e.g. BMW) to CONSUMER (e.g. ADAC)                          #\n#   - VIN-VAN Conversion                                                                     #\n#   - DTC Analysis/Resolution (including the READING of Version and Description)             #\n##############################################################################################\n\nSELECT ?vin ?codeNumber ?description ?version WHERE {\n\n    ####\n    # Three parameters to the custom search\n    ####\n    VALUES (?vin ?problemArea ?minVersion) {(\"WBAAL31029PZ00001\"^^xsd:string \"Getriebe\"^^xsd:string \"1\"^^xsd:long)}\n\n    ####\n    # Lookup the responsible OEM(s)\n    ####\n    ?oem cx:isIssuerOfVehicleIdentificationNumber ?vin;\n         cx:hasConnector ?oemConnector.\n    ?oemConnector cx:offersAsset ?diagnoseAsset.\n    ?diagnoseAsset rdfs:isDefinedBy \"https://github.com/catenax-ng/product-knowledge/ontology/diagnosis_ontology.ttl\"^^xsd:string.\n\n    ####\n    # Delegate to the revelant connector(s) and asset(s)\n    ####\n    SERVICE ?oemConnector {\n        GRAPH ?diagnoseAsset {\n\n            ####\n            # the actual subselect carrying the FILTERs\n            ####\n            SELECT ?codeNumber ?description ?version WHERE {\n\n                    ?Dtc rdf:type cx-diag:DTC;\n                        cx-diag:Code ?codeNumber;\n                        cx-diag:Description ?description;\n                        cx-diag:Version ?version.\n\n                    FILTER ( CONTAINS(?description, ?problemArea) && ?version >= ?minVersion)\n       \n            } # Subselect\n        } # Graph Asset\n    } # Remote Connector\n} # Search",
											"options": {
												"raw": {
													"language": "text"
												}
											}
										},
										"url": {
											"raw": "{{consumerAgentPlane}}/api/agent",
											"host": [
												"{{consumerAgentPlane}}"
											],
											"path": [
												"api",
												"agent"
											]
										}
									},
									"response": []
								}
							],
							"description": "A collection of calls agains the (agent-enabled) EDC control and data plane of the consumer tenant."
						}
					],
					"description": "A Collection of API Calls Against the Consuming and Federation Components of the Dataspace.",
					"auth": {
						"type": "basic",
						"basic": [
							{
								"key": "password",
								"value": "{{oemPassword}}",
								"type": "string"
							},
							{
								"key": "username",
								"value": "{{oemUser}}",
								"type": "string"
							}
						]
					},
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				}
			],
			"description": "A Collection of API Calls Against the Dataspace Components of KA."
		},
		{
			"name": "Integration Tests",
			"item": [
				{
					"name": "1.0 Deregister Existing Oem Contract Definition",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Deletion/Non-Existance of Contract Definition was successful\", function () {",
									"    pm.expect(pm.response.code).oneOf([204,404]);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
								"key": "X-Api-Key",
								"value": "{{oemEdcApiKey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{oemEdcControl}}/data/contractdefinitions/:contract",
							"host": [
								"{{oemEdcControl}}"
							],
							"path": [
								"data",
								"contractdefinitions",
								":contract"
							],
							"variable": [
								{
									"key": "contract",
									"value": "oemOffer",
									"description": "Id of the Contract Definition"
								}
							]
						},
						"description": "Calls the datamanagement API in order to create a graph asset."
					},
					"response": []
				},
				{
					"name": "1.1 Deregister Existing Oem Graph Asset",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Deletion/Non-Existance of Data Graph Asset was successful (in case no agreements were pending)\", function () {",
									"    pm.expect(pm.response.code).oneOf([204,404,409]);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
								"key": "X-Api-Key",
								"value": "{{oemEdcApiKey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{oemEdcControl}}/data/assets/:asset",
							"host": [
								"{{oemEdcControl}}"
							],
							"path": [
								"data",
								"assets",
								":asset"
							],
							"variable": [
								{
									"key": "asset",
									"value": "urn:cx:Graph:oem:Diagnosis2022",
									"description": "Id of the Asset"
								}
							]
						},
						"description": "Calls the datamanagement API in order to create a graph asset."
					},
					"response": []
				},
				{
					"name": "1.2 Disable Oem Graph Policy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Deletion/Non-Existance of Oem Policy was successful\", function () {",
									"    pm.expect(pm.response.code).oneOf([204,404]);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
								"key": "X-Api-Key",
								"value": "{{oemEdcApiKey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{oemEdcControl}}/data/policydefinitions/:policy",
							"host": [
								"{{oemEdcControl}}"
							],
							"path": [
								"data",
								"policydefinitions",
								":policy"
							],
							"variable": [
								{
									"key": "policy",
									"value": "oemPolicy",
									"description": "Id of the Policy"
								}
							]
						},
						"description": "Calls the datamanagement API in order to create a graph policy."
					},
					"response": []
				},
				{
					"name": "1.3 Check Propagation into Consumer Data Catalogue",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"setTimeout(function(){ console.log(\"Wait before catalogue is synchronized.\")}, 60000);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Contract Offer Deletion was propagated\", function () {",
									"    pm.expect(pm.response.code).oneOf([200]);",
									"    pm.expect(pm.response.json().results.bindings.length).eq(0);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{consumerAgentPlane}}/api/agent?query=SELECT ?asset WHERE { <edcs://knowledge.dev.demo.catena-x.net/oem-edc-control/BPNL00000003COJN> <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl%23offersAsset> ?asset. }",
							"host": [
								"{{consumerAgentPlane}}"
							],
							"path": [
								"api",
								"agent"
							],
							"query": [
								{
									"key": "asset",
									"value": "urn:x-arq:DefaultGraph",
									"description": "the default graph should be compliant",
									"disabled": true
								},
								{
									"key": "query",
									"value": "SELECT ?asset WHERE { <edcs://knowledge.dev.demo.catena-x.net/oem-edc-control/BPNL00000003COJN> <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl%23offersAsset> ?asset. }"
								}
							]
						},
						"description": "Uses the Agent Extension of the Dataplane to Perform Some Dynamic Query on a Local Graph (here: the federated data catalogue)."
					},
					"response": []
				},
				{
					"name": "1.5 Register Oem Data Graph Asset",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Creation of Data Graph Asset was successful (in case no agreements were pending)\", function () {",
									"    pm.expect(pm.response.code).oneOf([204,409]);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
								"key": "X-Api-Key",
								"value": "{{oemEdcApiKey}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"asset\": {\n    \"properties\": {\n      \"asset:prop:id\": \"urn:cx:Graph:oem:Diagnosis2022\",\n      \"asset:prop:name\": \"Diagnostic Trouble Code Catalogue Version 2022\",\n      \"asset:prop:description\": \"A sample graph asset/offering referring to a specific diagnosis resource.\",\n      \"asset:prop:version\": \"0.5.5-SNAPSHOT\",\n      \"asset:prop:contenttype\": \"application/json, application/xml\",\n      \"rdf:type\":\"https://github.com/catenax-ng/product-knowledge/ontology/common_ontology.ttl#GraphAsset\",\n      \"rdfs:isDefinedBy\": \"https://github.com/catenax-ng/product-knowledge/ontology/diagnosis_ontology.ttl\",\n      \"cx:protocol\": \"urn:cx:Protocol:w3c:Http#SPARQL\",\n      \"cx:shape\": \"@prefix : <urn:cx:Graph:oem:Diagnosis2022> .\\n@prefix cx: <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#> .\\n@prefix cx-diag: <https://github.com/catenax-ng/product-knowledge/ontology/diagnosis.ttl#> .\\n@prefix owl: <http://www.w3.org/2002/07/owl#> .\\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\\n@prefix sh: <http://www.w3.org/ns/shacl#> .\\n\\nOemDTC rdf:type sh:NodeShape ;\\n  sh:targetClass cx-diag:DTC ;\\n  sh:property [\\n        sh:path cx:provisionedBy ;\\n        sh:hasValue <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#BusinessPartner/BPNL00000003COJN> ;\\n    ] ;\\n  sh:property [\\n        sh:path cx-diag:Version ;\\n        sh:hasValue 0^^xsd:long ;\\n    ] ;\\n  sh:property [\\n        sh:path cx-diag:Affects ;\\n        sh:class OemDiagnosedParts ;\\n    ] ;\\n\\nOemDiagnosedParts rdf:type sh:NodeShape ;\\n  sh:targetClass cx-diag:DiagnosedPart ;\\n  sh:property [\\n        sh:path cx:provisionedBy ;\\n        sh:hasValue <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#BusinessPartner/BPNL00000003COJN> ;\\n    ] ;\\n\",\n      \"cx:isFederated\": true\n    }\n  },\n  \"dataAddress\": {\n    \"properties\": {\n      \"asset:prop:id\": \"urn:cx:Graph:oem:Diagnosis2022\",\n      \"baseUrl\": \"http://oem-provider-agent:8080/sparql\",\n      \"type\": \"urn:cx:Protocol:w3c:Http#SPARQL\",\n      \"proxyPath\": \"false\",\n      \"proxyMethod\": \"true\",\n      \"proxyQueryParams\": \"true\",\n      \"proxyBody\": \"true\",\n      \"authKey\": \"{{oemBackendAuthKey}}\",\n      \"authCode\": \"{{oemBackendAuthCode}}\"\n    }\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{oemEdcControl}}/data/assets",
							"host": [
								"{{oemEdcControl}}"
							],
							"path": [
								"data",
								"assets"
							]
						},
						"description": "Calls the datamanagement API in order to create a graph asset."
					},
					"response": []
				},
				{
					"name": "1.6 Enable Oem Graph Policy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Creation of Oem Policy was successful\", function () {",
									"    pm.expect(pm.response.code).oneOf([204]);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
								"key": "X-Api-Key",
								"value": "{{oemEdcApiKey}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"id\": \"oemPolicy\",\n  \"policy\": {\n    \"target\": \"urn:cx:Graph:oem:.*\",\n    \"permissions\": [\n        {\n            \"target\": \"urn:cx:Graph:oem:Diagnosis.*\",\n            \"action\": {\n                \"type\": \"USE\"\n            },\n            \"edctype\": \"dataspaceconnector:permission\"\n        }\n    ],\n    \"@type\": {\n        \"@policytype\": \"set\"\n    }\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{oemEdcControl}}/data/policydefinitions",
							"host": [
								"{{oemEdcControl}}"
							],
							"path": [
								"data",
								"policydefinitions"
							]
						},
						"description": "Calls the datamanagement API in order to create a graph policy."
					},
					"response": []
				},
				{
					"name": "1.7 Register Oem Graph Contract Definition",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Creation/Existance was successful\", function () {",
									"    pm.expect(pm.response.code).oneOf([204]);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
								"key": "X-Api-Key",
								"value": "{{oemEdcApiKey}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"id\":\"oemOffer\",\n  \"accessPolicyId\": \"oemPolicy\",\n  \"contractPolicyId\": \"oemPolicy\",\n  \"criteria\": [ {\n      \"operandLeft\": \"asset:prop:id\",\n      \"operator\":\"~\",\n      \"operandRight\":\"urn:cx:Graph:oem:.*\"\n  }]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{oemEdcControl}}/data/contractdefinitions",
							"host": [
								"{{oemEdcControl}}"
							],
							"path": [
								"data",
								"contractdefinitions"
							]
						},
						"description": "Calls the datamanagement API in order to create a contract."
					},
					"response": []
				},
				{
					"name": "1.8 Check Propagation into Consumer Data Catalogue Copy",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"setTimeout(function(){ console.log(\"Wait before catalogue is synchronized.\")}, 60000);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Contract Offer was propagated\", function () {",
									"    pm.expect(pm.response.code).oneOf([200]);",
									"    pm.expect(pm.response.json().results.bindings.length).gte(1);",
									"    pm.expect(pm.response.json().results.bindings[0].asset.value).eq(\"urn:cx:Graph:oem:Diagnosis2022\");",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{consumerAgentPlane}}/api/agent?query=SELECT ?asset WHERE { <edcs://knowledge.dev.demo.catena-x.net/oem-edc-control/BPNL00000003COJN> <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl%23offersAsset> ?asset. }",
							"host": [
								"{{consumerAgentPlane}}"
							],
							"path": [
								"api",
								"agent"
							],
							"query": [
								{
									"key": "asset",
									"value": "urn:x-arq:DefaultGraph",
									"description": "the default graph should be compliant",
									"disabled": true
								},
								{
									"key": "query",
									"value": "SELECT ?asset WHERE { <edcs://knowledge.dev.demo.catena-x.net/oem-edc-control/BPNL00000003COJN> <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl%23offersAsset> ?asset. }"
								}
							]
						},
						"description": "Uses the Agent Extension of the Dataplane to Perform Some Dynamic Query on a Local Graph (here: the federated data catalogue)."
					},
					"response": []
				},
				{
					"name": "2.0 Deregister Existing Tiera Contract Definition",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Deletion/Non-Existance of Contract Definition was successful\", function () {",
									"    pm.expect(pm.response.code).oneOf([204,404]);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
								"key": "X-Api-Key",
								"value": "{{oemEdcApiKey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{tieraEdcControl}}/data/contractdefinitions/:contract",
							"host": [
								"{{tieraEdcControl}}"
							],
							"path": [
								"data",
								"contractdefinitions",
								":contract"
							],
							"variable": [
								{
									"key": "contract",
									"value": "tierAOffer",
									"description": "Id of the Contract Definition"
								}
							]
						},
						"description": "Calls the datamanagement API in order to create a graph asset."
					},
					"response": []
				},
				{
					"name": "2.1 Deregister Tier1 Function Graph Asset",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Deletion/Non-Existance of Function Graph Asset was successful (or conflicted because of existing agreements).\", function () {",
									"    pm.expect(pm.response.code).oneOf([204,404,409]);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
								"key": "X-Api-Key",
								"value": "{{oemEdcApiKey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{tieraEdcControl}}/data/assets/urn:cx:Graph:tierA:LifetimeGearbox",
							"host": [
								"{{tieraEdcControl}}"
							],
							"path": [
								"data",
								"assets",
								"urn:cx:Graph:tierA:LifetimeGearbox"
							]
						},
						"description": "Calls the datamanagement API in order to create a graph asset."
					},
					"response": []
				},
				{
					"name": "2.2 Disable Tier1 Graph Policy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Deletion/Non-Existance of Tier1 Policy was successful\", function () {",
									"    pm.expect(pm.response.code).oneOf([204,404]);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
								"key": "X-Api-Key",
								"value": "{{oemEdcApiKey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{tieraEdcControl}}/data/policydefinitions/:policy",
							"host": [
								"{{tieraEdcControl}}"
							],
							"path": [
								"data",
								"policydefinitions",
								":policy"
							],
							"variable": [
								{
									"key": "policy",
									"value": "tierAPolicy"
								}
							]
						},
						"description": "Calls the datamanagement API in order to create a graph policy."
					},
					"response": []
				},
				{
					"name": "2.3 Check Propagation into Consumer Data Catalogue",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"setTimeout(function(){ console.log(\"Wait before catalogue is synchronized.\")}, 60000);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Contract Offer Deletion was propagated\", function () {",
									"    pm.expect(pm.response.code).oneOf([200]);",
									"    pm.expect(pm.response.json().results.bindings.length).eq(0);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{consumerAgentPlane}}/api/agent?query=SELECT ?asset WHERE { <edcs://knowledge.dev.demo.catena-x.net/tiera-edc-control/BPNL00000003CPIY> <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl%23offersAsset> ?asset. }",
							"host": [
								"{{consumerAgentPlane}}"
							],
							"path": [
								"api",
								"agent"
							],
							"query": [
								{
									"key": "asset",
									"value": "urn:x-arq:DefaultGraph",
									"description": "the default graph should be compliant",
									"disabled": true
								},
								{
									"key": "query",
									"value": "SELECT ?asset WHERE { <edcs://knowledge.dev.demo.catena-x.net/tiera-edc-control/BPNL00000003CPIY> <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl%23offersAsset> ?asset. }"
								}
							]
						},
						"description": "Uses the Agent Extension of the Dataplane to Perform Some Dynamic Query on a Local Graph (here: the federated data catalogue)."
					},
					"response": []
				},
				{
					"name": "2.5 Register Tier1 Function Graph Asset",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Creation of Function Graph Asset was successful (or pending because of existing agreements)\", function () {",
									"    pm.expect(pm.response.code).oneOf([204,409]);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
								"key": "X-Api-Key",
								"value": "{{oemEdcApiKey}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"asset\": {\n    \"properties\": {\n      \"asset:prop:id\": \"urn:cx:Graph:tierA:LifetimeGearbox\",\n      \"asset:prop:name\": \"Lifetime Prognosis Service for Gearboxes\",\n      \"asset:prop:contenttype\": \"application/json, application/xml\",\n      \"asset:prop:policy-id\": \"gobang\",\n      \"asset:prop:cx:requesttype\": \"application/sparql\",\n      \"asset:prop:cx:apitype\": \"application/knowledge-agent-query\",\n      \"asset:prop:cx:ontology\": \"https://github.com/catenax-ng/product-knowledge/ontology#\",\n      \"asset:prop:cx:ontologyVersion\": \"https://github.com/catenax-ng/product-knowledge/tree/main\",\n      \"asset:prop:cx:shapesGraph\": \"@prefix : <urn:cx:Graph:tierA:LifetimeGearbox> .\\n@prefix cx: <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#> .\\n@prefix cx-lifetime: <https://github.com/catenax-ng/product-knowledge/ontology/lifetime.ttl#> .\\n@prefix owl: <http://www.w3.org/2002/07/owl#> .\\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\\n@prefix sh: <http://www.w3.org/ns/shacl#> .\\n :Tier1LifetimePrognosis rdf:type sh:NodeShape ;\\n  sh:targetClass cx-lifetime:LifetimePrognosis ;\\n  sh:property [\\n        sh:path cx:provisionedBy ;\\n        sh:hasValue <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#BusinessPartner/BPNL00000003CPIY> ].\\n\",\n      \"asset:prop:cx:isFederated\": true\n    }\n  },\n  \"dataAddress\": {\n    \"properties\": {\n      \"baseUrl\": \"http://tiera-remoting-agent:8081/rdf4j-server/repositories/prognosis\",\n      \"type\": \"urn:cx:Protocol:w3c:Http#SPARQL\",\n      \"proxyPath\": \"false\",\n      \"proxyMethod\": \"true\",\n      \"proxyQueryParams\": \"true\",\n      \"proxyBody\": \"true\"\n    }\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{tieraEdcControl}}/data/assets",
							"host": [
								"{{tieraEdcControl}}"
							],
							"path": [
								"data",
								"assets"
							]
						},
						"description": "Calls the datamanagement API in order to create a graph asset."
					},
					"response": []
				},
				{
					"name": "2.6 EnableTier1 Graph Policy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Creation/Existance was successful\", function () {",
									"    pm.expect(pm.response.code).oneOf([204]);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
								"key": "X-Api-Key",
								"value": "{{oemEdcApiKey}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"id\": \"tierAPolicy\",\n  \"target\": \"urn:cx:Graph:tierA:.*\",\n  \"policy\": {\n      \"permissions\": [\n        {\n        \"target\": \"urn:cx:Graph:tierA:.*\",\n        \"action\": {\n        \"type\": \"USE\"\n        },\n        \"edctype\": \"dataspaceconnector:permission\"\n        }\n    ],\n    \"@type\": {\n        \"@policytype\": \"set\"\n    }\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{tieraEdcControl}}/data/policydefinitions",
							"host": [
								"{{tieraEdcControl}}"
							],
							"path": [
								"data",
								"policydefinitions"
							]
						},
						"description": "Calls the datamanagement API in order to create a graph policy."
					},
					"response": []
				},
				{
					"name": "2.7 Register Tier1 Graph Contract Definition",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Creation/Existance was successful\", function () {",
									"    pm.expect(pm.response.code).oneOf([204]);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
								"key": "X-Api-Key",
								"value": "{{oemEdcApiKey}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"id\":\"tierAOffer\",\n  \"accessPolicyId\": \"tierAPolicy\",\n  \"contractPolicyId\": \"tierAPolicy\",\n  \"criteria\": [ {\n      \"operandLeft\": \"asset:prop:id\",\n      \"operator\":\"~\",\n      \"operandRight\":\"urn:cx:Graph:tierA:.*\"\n  }]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{tieraEdcControl}}/data/contractdefinitions",
							"host": [
								"{{tieraEdcControl}}"
							],
							"path": [
								"data",
								"contractdefinitions"
							]
						},
						"description": "Calls the datamanagement API in order to create a contract."
					},
					"response": []
				},
				{
					"name": "2.8 Check Propagation into Consumer Data Catalogue",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"setTimeout(function(){ console.log(\"Wait before catalogue is synchronized.\")}, 60000);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Contract Offer was propagated\", function () {",
									"    pm.expect(pm.response.code).oneOf([200]);",
									"    pm.expect(pm.response.json().results.bindings.length).gte(1);",
									"    pm.expect(pm.response.json().results.bindings[0].asset.value).eq(\"urn:cx:Graph:tierA:LifetimeGearbox\");",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{consumerAgentPlane}}/api/agent?query=SELECT ?asset WHERE { <edcs://knowledge.dev.demo.catena-x.net/tiera-edc-control/BPNL00000003CPIY> <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl%23offersAsset> ?asset. }",
							"host": [
								"{{consumerAgentPlane}}"
							],
							"path": [
								"api",
								"agent"
							],
							"query": [
								{
									"key": "asset",
									"value": "urn:x-arq:DefaultGraph",
									"description": "the default graph should be compliant",
									"disabled": true
								},
								{
									"key": "query",
									"value": "SELECT ?asset WHERE { <edcs://knowledge.dev.demo.catena-x.net/tiera-edc-control/BPNL00000003CPIY> <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl%23offersAsset> ?asset. }"
								}
							]
						},
						"description": "Uses the Agent Extension of the Dataplane to Perform Some Dynamic Query on a Local Graph (here: the federated data catalogue)."
					},
					"response": []
				},
				{
					"name": "3.0 Deregister Existing Consumer Contract Definition",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Deletion/Non-Existance of Contract Definition was successful\", function () {",
									"    pm.expect(pm.response.code).oneOf([204,404]);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
								"key": "X-Api-Key",
								"value": "{{oemEdcApiKey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{consumerEdcControl}}/data/contractdefinitions/:contract",
							"host": [
								"{{consumerEdcControl}}"
							],
							"path": [
								"data",
								"contractdefinitions",
								":contract"
							],
							"variable": [
								{
									"key": "contract",
									"value": "consumerOffer",
									"description": "Id of the Contract Definition"
								}
							]
						},
						"description": "Calls the datamanagement API in order to create a graph asset."
					},
					"response": []
				},
				{
					"name": "3.1 Deregister Consumer Skill Asset",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Deletion/Non-Existance of Skill Asset was successful (if not part of an agreement)\", function () {",
									"    pm.expect(pm.response.code).oneOf([204,404,409]);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
								"key": "X-Api-Key",
								"value": "{{oemEdcApiKey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{consumerEdcControl}}/data/assets/:asset",
							"host": [
								"{{consumerEdcControl}}"
							],
							"path": [
								"data",
								"assets",
								":asset"
							],
							"variable": [
								{
									"key": "asset",
									"value": "urn:cx:Skill:consumer:LifetimeGearbox"
								}
							]
						},
						"description": "Calls the datamanagement API in order to create a skill asset."
					},
					"response": []
				},
				{
					"name": "3.2 Disable Consumer Skill Policy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Deletion/Non-Existance of Consumer Policy was successful\", function () {",
									"    pm.expect(pm.response.code).oneOf([204,404]);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
								"key": "X-Api-Key",
								"value": "{{oemEdcApiKey}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{consumerEdcControl}}/data/policydefinitions/:policy",
							"host": [
								"{{consumerEdcControl}}"
							],
							"path": [
								"data",
								"policydefinitions",
								":policy"
							],
							"variable": [
								{
									"key": "policy",
									"value": "consumerPolicy"
								}
							]
						},
						"description": "Calls the datamanagement API in order to create a skill policy."
					},
					"response": []
				},
				{
					"name": "3.3 Check Propagation into Consumer Data Catalogue",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"setTimeout(function(){ console.log(\"Wait before catalogue is synchronized.\")}, 60000);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Contract Offer Deletion was propagated\", function () {",
									"    pm.expect(pm.response.code).oneOf([200]);",
									"    pm.expect(pm.response.json().results.bindings.length).eq(0);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{consumerAgentPlane}}/api/agent?query=SELECT ?asset WHERE { <edcs://knowledge.dev.demo.catena-x.net/consumer-edc-control/BPNL00000003CQI9> <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl%23offersAsset> ?asset. }",
							"host": [
								"{{consumerAgentPlane}}"
							],
							"path": [
								"api",
								"agent"
							],
							"query": [
								{
									"key": "asset",
									"value": "urn:x-arq:DefaultGraph",
									"description": "the default graph should be compliant",
									"disabled": true
								},
								{
									"key": "query",
									"value": "SELECT ?asset WHERE { <edcs://knowledge.dev.demo.catena-x.net/consumer-edc-control/BPNL00000003CQI9> <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl%23offersAsset> ?asset. }"
								}
							]
						},
						"description": "Uses the Agent Extension of the Dataplane to Perform Some Dynamic Query on a Local Graph (here: the federated data catalogue)."
					},
					"response": []
				},
				{
					"name": "3.5 Register Consumer Skill Asset",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Creation/Existance was successful (if not blocked by agreement)\", function () {",
									"    pm.expect(pm.response.code).oneOf([204,409]);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
								"key": "X-Api-Key",
								"value": "{{oemEdcApiKey}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"asset\": {\n    \"properties\": {\n      \"asset:prop:id\": \"urn:cx:Skill:consumer:LifetimeGearbox\",\n      \"asset:prop:name\": \"Remaining Useful Lifetime Skill for Vehicles\",\n      \"asset:prop:description\": \"A sample skill asset/offering implemented via SparQL.\",\n      \"asset:prop:version\": \"0.5.5-SNAPSHOT\",\n      \"asset:prop:contenttype\": \"application/json, application/xml\",\n      \"cx:protocol\": \"urn:cx:Protocol:w3c:Http#SPARQL\",\n      \"rdf:type\":\"https://github.com/catenax-ng/product-knowledge/ontology/common_ontology.ttl#SkillAsset\",\n      \"rdfs:isDefinedBy\": \"https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl\",\n      \"cx:isFederated\": true\n    }\n  },\n  \"dataAddress\": {\n    \"properties\": {\n      \"asset:prop:id\": \"urn:cx:Skill:consumer:LifetimeGearbox\",\n      \"type\": \"urn:cx:Protocol:w3c:Http#SKILL#SPARQL\",\n      \"query\": \"PREFIX cx: <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl#>\\nPREFIX cx-diag: <https://github.com/catenax-ng/product-knowledge/ontology/diagnosis.ttl#>\\nPREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\\nSELECT ?reason ?code ?description ?version ?partend ?partcat ?partclass WHERE {\\n  # Select Business Partner\\n  ?Oem cx:BPNL \\\"BPNL00000003COJN\\\".\\n\\n  # Search for Trouble Codes of the Business Partner\\n  # related to a cause in the \\\"Kabelbaum\\\"\\n  ?Dtc rdf:type cx-diag:DTC.\\n  ?Dtc cx:provisionedBy ?Oem.\\n  ?Dtc cx-diag:PossibleCauses ?reason.\\n  FILTER contains(?reason,\\\"Kabelbaum\\\").\\n  ?Dtc cx-diag:Code ?code.\\n  ?Dtc cx-diag:Description ?description.\\n  ?Dtc cx-diag:Version ?version.\\n\\n  # Navigate to the affected parts\\n  # and show only parts with a classification \\\"Powertrain\\\"\\n  ?Dtc cx-diag:affects ?Part.\\n  ?Part cx-diag:Category ?partcat.\\n  ?Part cx-diag:EnDenomination ?partend.\\n  ?Part cx-diag:Classification ?partclass.\\n  FILTER contains(?partclass,'Powertrain').\\n\\n}\\n\",\n      \"proxyPath\": \"false\",\n      \"proxyMethod\": \"false\",\n      \"proxyQueryParams\": \"true\",\n      \"proxyBody\": \"false\"\n    }\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{consumerEdcControl}}/data/assets",
							"host": [
								"{{consumerEdcControl}}"
							],
							"path": [
								"data",
								"assets"
							]
						},
						"description": "Calls the datamanagement API in order to create a skill asset."
					},
					"response": []
				},
				{
					"name": "3.6 Enable Consumer Skill Policy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Creation of Consumer Policy was successful\", function () {",
									"    pm.expect(pm.response.code).oneOf([204]);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
								"key": "X-Api-Key",
								"value": "{{oemEdcApiKey}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"id\": \"consumerPolicy\",\n  \"policy\": {\n      \"target\": \"urn:cx:Skill:consumer.*\",\n      \"permissions\": [\n        {\n        \"target\": \"urn:cx:Skill:consumer:Lifetime.*\",\n        \"action\": {\n            \"type\": \"USE\"\n        },\n        \"edctype\": \"dataspaceconnector:permission\"\n        }\n    ],\n    \"@type\": {\n        \"@policytype\": \"set\"\n    }\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{consumerEdcControl}}/data/policydefinitions",
							"host": [
								"{{consumerEdcControl}}"
							],
							"path": [
								"data",
								"policydefinitions"
							]
						},
						"description": "Calls the datamanagement API in order to create a skill policy."
					},
					"response": []
				},
				{
					"name": "3.7 Register Tier1 Skill Contract Definition",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Creation/Existance was successful\", function () {",
									"    pm.expect(pm.response.code).oneOf([204]);",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"warning": "This is a duplicate header and will be overridden by the X-Api-Key header generated by Postman.",
								"key": "X-Api-Key",
								"value": "{{oemEdcApiKey}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"id\":\"consumerOffer\",\n  \"accessPolicyId\": \"consumerPolicy\",\n  \"contractPolicyId\": \"consumerPolicy\",\n  \"criteria\": [ {\n      \"operandLeft\": \"asset:prop:id\",\n      \"operator\":\"~\",\n      \"operandRight\":\"urn:cx:Skill:consumer:.*\"\n  }]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{consumerEdcControl}}/data/contractdefinitions",
							"host": [
								"{{consumerEdcControl}}"
							],
							"path": [
								"data",
								"contractdefinitions"
							]
						},
						"description": "Calls the datamanagement API in order to create a skill contract."
					},
					"response": []
				},
				{
					"name": "3.8 Check Propagation into Consumer Data Catalogue",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"setTimeout(function(){ console.log(\"Wait before catalogue is synchronized.\")}, 60000);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Contract Offer was propagated\", function () {",
									"    pm.expect(pm.response.code).oneOf([200]);",
									"    pm.expect(pm.response.json().results.bindings.length).gte(1);",
									"    pm.expect(pm.response.json().results.bindings[0].asset.value).eq(\"urn:cx:Skill:consumer:LifetimeGearbox\");",
									"});",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{consumerAgentPlane}}/api/agent?query=SELECT ?asset WHERE { <edcs://knowledge.dev.demo.catena-x.net/consumer-edc-control/BPNL00000003CQI9> <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl%23offersAsset> ?asset. }",
							"host": [
								"{{consumerAgentPlane}}"
							],
							"path": [
								"api",
								"agent"
							],
							"query": [
								{
									"key": "asset",
									"value": "urn:x-arq:DefaultGraph",
									"description": "the default graph should be compliant",
									"disabled": true
								},
								{
									"key": "query",
									"value": "SELECT ?asset WHERE { <edcs://knowledge.dev.demo.catena-x.net/consumer-edc-control/BPNL00000003CQI9> <https://github.com/catenax-ng/product-knowledge/ontology/cx.ttl%23offersAsset> ?asset. }"
								}
							]
						},
						"description": "Uses the Agent Extension of the Dataplane to Perform Some Dynamic Query on a Local Graph (here: the federated data catalogue)."
					},
					"response": []
				}
			]
		},
		{
			"name": "Portal",
			"item": [
				{
					"name": "Access Ontology Details",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:3000/semantichub/:model",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "3000",
							"path": [
								"semantichub",
								":model"
							],
							"variable": [
								{
									"key": "model",
									"value": "https%3A%2F%2Fraw.githubusercontent.com%2Fcatenax-ng%2Fproduct-knowledge%2Fmain%2Finfrastructure%2Fconsumer%2Fresources%2Fcx-ontology.json"
								}
							]
						}
					},
					"response": []
				}
			]
		}
	]
}